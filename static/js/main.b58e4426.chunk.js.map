{"version":3,"sources":["axios.js","components/MyAppBar/Login.js","components/MyAppBar/SignUp.js","containers/MyAppBar.js","components/CommentPage/CommentTable.js","components/CommentPage/HashTag.js","components/CommentPage/AddComment.js","containers/CommentPage.js","containers/SearchCourseTable.js","containers/Sidebar.js","components/SearchTab/DepartmentSearch.js","components/SearchTab/AllSearch.js","components/SearchTab/GeneralSearch.js","components/SearchTab/CommonSearch.js","components/SearchTab/OtherSearch.js","containers/SearchTab.js","components/MyCoursePage/CourseList.js","components/MyCoursePage/CourseTable.js","containers/MyCoursePage.js","components/SearchBar/TimeTable.js","components/SearchBar/TimeSelect.js","components/SearchBar/SearchButton.js","components/SearchBar/PopularitySelect.js","components/SearchBar/TagSelect.js","components/SearchBar/SearchBar.js","containers/Main.js","App.js","reportWebVitals.js","index.js"],"names":["instance","axios","create","baseURL","checkUser","id","password","a","post","user","data","updateUser","myCourse","findCourse","constrain","courses","updateCourse","courseName","professor","tags","message","createComment","payload","comment","findComment","comments","updateComment","username","deleteComment","findUserComment","createTag","tag","findTag","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","SignUp","useStyles","appBar","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","toolbar","paddingRight","toolbarIcon","display","alignItems","justifyContent","mixins","menuButton","marginRight","title","flexGrow","MyAppBar","props","classes","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","className","clsx","Toolbar","IconButton","edge","color","aria-label","onClick","setOpen","Typography","variant","aria-controls","aria-haspopup","event","currentTarget","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","component","Link","to","setUser","useRowStyles","root","borderBottom","info","tablecell","fontSize","btn","margin","paddingTop","paddingBottom","paddingLeft","attributes","Row","row","React","Fragment","TableRow","TableCell","size","align","semester","scope","conclusion","Button","style","JSON","parse","tag_1","tag_2","tag_3","recomendation","colSpan","Collapse","in","timeout","unmountOnExit","Box","gutterBottom","book","teachingStyle","grading","homework","other","CommentTable","Paper","Table","TableHead","TableBody","map","filter","createFilterOptions","HashTag","allTags","setNewTag","value","setValue","updateTag","Autocomplete","onChange","e","newValue","match","i","length","inputValue","filterOptions","params","filtered","push","selectOnFocus","clearOnBlur","handleHomeEndKeys","options","getOptionLabel","option","renderOption","freeSolo","renderInput","TextField","label","marginBottom","col_3_block","marginTop","col_2_block","col_1_block","btn_container","textAlign","AddComment","setComment","handleAddComment","handleDeleteComment","setTag_1","setTag_2","setTag_3","setNewTag_1","setNewTag_2","setNewTag_3","noValidate","autoComplete","target","multiline","rows","stringify","TabPanel","children","index","role","hidden","test","CommentPage","commentId","setComments","findTags","setAllTags","useTheme","hasCommentAlready","setHasCommentAlready","newTag_1","newTag_2","newTag_3","commentInit","name","useEffect","undefined","next_comments","console","log","courseData","split","then","msg","newtags","next_tags","exist_flag","j","updateIndex","findIndex","x","deleteIndex","splice","alert","tabList","所有評論","AppBar","Tabs","indicatorColor","item","Tab","Object","keys","axis","direction","onChangeIndex","inedex","dir","values","tablecellRemark","marginLeft","setMyCourse","setCommentId","handleOpenComment","handleCloseComment","_id","added","handleAddBtn","next_myCourse","numToCh","1","2","3","4","5","6","timeClassroom","String","validDayCount","classrooms","classroom","courseCode","designatedFor","credit","people","remark","disabled","useStyle","firstRowCell","modal","height","overflow","SearchCourseTable","openComment","setOpenComment","findComments","page","setPage","rowsPerPage","setRowsPerPage","slice","course","courseNum","Modal","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","drawerPaper","whiteSpace","enteringScreen","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","list","notSelect","select","notSelectText","Sidebar","pages","pageIndex","setPageIndex","Drawer","anchor","List","ListItem","ListItemIcon","icon","ListItemText","primary","minWidth","formControl","maxWidth","searchInput","years","DepartmentSearch","searchConditions","setSearchConditions","optionSelected","setOption","yearSelected","setYear","option_list1","conditionOptions","option_list2","option_list3","學院","系所","組別","type","課名","教師名稱","FormControl","InputLabel","Select","labelId","multiple","booleanYears","year","indexOf","研究所","年級","input","Input","renderValue","selected","join","Checkbox","checked","next_searchConditions","AllSearch","select_1","setSelect_1","select_2","setSelect_2","select_3","setSelect_3","booleanOptions","加選方式","sort","GeneralSearch","通識領域","show","CommonSearch","OtherSearch","SearchTabs","全部查詢","院系所課程","通識課程","共同必修","其他全校性課程","resetSearchConditions","tablecell_top","list2Table","setList2Table","handleDelete","next_courses","department","next_list2Table","CourseList","days","times","borderWidth","borderStyle","borderColor","first_row","first_col","flexDirection","MyTableCell","day","time","courseBlock","CourseTable","一","0","7","8","9","10","A","B","C","D","二","三","四","五","六","randColor","Math","floor","random","toString","day1","time1","t","day2","time2","day3","time3","day4","time4","day5","time5","day6","time6","d","col_left","col_right","MyCoursePage","Container","TimeTable","mouseDown","setMouseDown","startIndex","setStartIndex","finishIndex","setFinishIndex","tempTimeFilter","setTempTimeFilter","btn_text","btn_style","onMouseUp","min_day","max_day","min_time","max_time","next_timeFilter","時間","dayIndex","ButtonGroup","orientation","handleSelectAll","text","next_day","handleSelect","onMouseDown","handleMouseDown","onMouseOver","handleMouseOver","select_btn","modal_btn_container","modal_btn","TimeSelect","startIcon","timeFilter","setTimeFilter","search_btn","SearchButton","search","slider_container","marks","valuetext","PopularitySelect","Slider","defaultValue","getAriaValueText","step","valueLabelDisplay","min","max","auto_complete","TagSelect","selectTag","setSelectTag","filterSelectedOptions","placeholder","btn_row","time_select","semesterList","SearchBar","sem","container","secondary","main","PagePanel","searchConditionsInit","流水號","課號","課程識別碼","教室","體育","國英外文","跨校課程","學程","大學部","必修","選修","服學","含小組討論","國文","英文","外文","進階英文","軍訓","共同選修","新生專題","寫作教學","基本能力課程","Main","conditions","setConditions","setCourses","setId","setPassword","correct","setCorrect","findCourses","condition","key","now_user","CssBaseline","Grid","xs","sm","form","required","fullWidth","autoFocus","onInput","error","helperText","preventDefault","result","TextareaAutosize","rowsMax","App","exact","path","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b58e4426.chunk.js","sourcesContent":["/** @format */\r\n\r\nimport axios from \"axios\";\r\n\r\nconst instance = axios.create({ baseURL: \"http://localhost:80/api\" });\r\n\r\nconst createUser = async (payload) => {\r\n  const {\r\n    data: { message },\r\n  } = await instance.post(\"/createUser\", { user: payload });\r\n\r\n  return message;\r\n};\r\n\r\nconst checkUser = async (id, password) => {\r\n  const {\r\n    data: { user },\r\n  } = await instance.post(\"/checkUser\", { id: id, password: password });\r\n  return user;\r\n};\r\n\r\nconst updateUser = async (id, myCourse) => {\r\n  const {\r\n    data: { user },\r\n  } = await instance.post(\"/updateUser\", { id: id, myCourse: myCourse });\r\n  return user;\r\n};\r\n\r\nconst findCourse = async (constrain) => {\r\n  const {\r\n    data: { courses },\r\n  } = await instance.post(\"/findCourse\", { constrain: constrain });\r\n  return courses;\r\n};\r\n\r\nconst updateCourse = async (courseName, professor, tags) => {\r\n  // console.log(\"send request to backend\");\r\n  const {\r\n    data: { message },\r\n  } = await instance.post(\"/updateCourse\", {\r\n    courseName: courseName,\r\n    professor: professor,\r\n    tags: tags,\r\n  });\r\n  // console.log(\"data: \", message);\r\n  return message;\r\n};\r\n\r\nconst createComment = async (payload) => {\r\n  const {\r\n    data: { message },\r\n  } = await instance.post(\"/createComment\", { comment: payload });\r\n\r\n  return message;\r\n};\r\n\r\nconst findComment = async (id) => {\r\n  // console.log(\"send request to backend\");\r\n  const {\r\n    data: { comments },\r\n  } = await instance.post(\"/findComment\", { id: id });\r\n  // console.log(\"data: \", courses);\r\n  return comments;\r\n  // return course;\r\n};\r\n\r\nconst updateComment = async (id, username, comment) => {\r\n  const {\r\n    data: { message },\r\n  } = await instance.post(\"/updateComment\", {\r\n    id: id,\r\n    username: username,\r\n    comment: comment,\r\n  });\r\n  // console.log(\"data: \", courses);\r\n  return message;\r\n  // return course;\r\n};\r\n\r\nconst deleteComment = async (id, username) => {\r\n  const {\r\n    data: { message },\r\n  } = await instance.post(\"/deleteComment\", { id: id, username: username });\r\n  // console.log(\"data: \", courses);\r\n  return message;\r\n  // return course;\r\n};\r\n\r\nconst findUserComment = async (id, username) => {\r\n  // console.log(\"send request to backend\");\r\n  const {\r\n    data: { comment },\r\n  } = await instance.post(\"/findUserComment\", { id: id, username: username });\r\n  // console.log(\"data: \", courses);\r\n  return comment;\r\n};\r\n\r\nconst createTag = async (payload) => {\r\n  const {\r\n    data: { message },\r\n  } = await instance.post(\"/createTag\", { tag: payload });\r\n\r\n  return message;\r\n};\r\n\r\nconst findTag = async () => {\r\n  // console.log(\"send request to backend\");\r\n  const {\r\n    data: { tags },\r\n  } = await instance.post(\"/findTag\");\r\n  return tags;\r\n};\r\n\r\nexport {\r\n  createUser,\r\n  checkUser,\r\n  updateUser,\r\n  findCourse,\r\n  updateCourse,\r\n  createComment,\r\n  findComment,\r\n  updateComment,\r\n  deleteComment,\r\n  findUserComment,\r\n  createTag,\r\n  findTag,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\n// import Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { checkUser } from \"../../axios.js\";\r\nimport sha256 from \"../../Mysha256.js\";\r\n\r\nfunction getModalStyle() {\r\n  const top = 50;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nfunction Login(props) {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle, setModalStyle] = useState(getModalStyle);\r\n  const [id, setId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [correct, setCorrect] = useState(true);\r\n\r\n  const handleOpen = () => {\r\n    props.setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    props.setOpen(false);\r\n  };\r\n\r\n  const handleSignIn = (e) => {\r\n    e.preventDefault();\r\n    checkUser(id, sha256(password)).then((result) => {\r\n      if (result !== 0) {\r\n        setCorrect(true);\r\n        props.setUser(result);\r\n        props.setMyCourse(JSON.parse(result.courses));\r\n      } else {\r\n        setPassword(\"\");\r\n        setCorrect(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <form className={classes.form} noValidate>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"id\"\r\n          label=\"學號\"\r\n          name=\"id\"\r\n          autoComplete=\"id\"\r\n          autoFocus\r\n          onInput={(e) => setId(e.target.value)}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={!correct}\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"密碼\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onInput={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n          helperText={correct ? \"\" : \"Incorrect Id or password\"}\r\n          onClick={() => setCorrect(true)}\r\n        />\r\n        <FormControlLabel\r\n          control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n          label=\"Remember me\"\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          // className={classes.submit}\r\n          onClick={handleSignIn}\r\n        >\r\n          Sign In\r\n        </Button>\r\n        <Grid container>\r\n          <Grid item xs>\r\n            <Link href=\"#\" variant=\"body2\">\r\n              Forgot password?\r\n            </Link>\r\n          </Grid>\r\n          {/* <Grid item>\r\n            <Link\r\n              href=\"#\"\r\n              variant=\"body2\"\r\n              onClick={() => {\r\n                props.setSignIn(false);\r\n              }}\r\n            >\r\n              {\"Don't have an account? Sign Up\"}\r\n            </Link>\r\n          </Grid> */}\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" onClick={handleOpen}>\r\n        Login\r\n      </Button>\r\n      <Modal\r\n        open={props.open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { createUser } from \"../../axios\";\r\nimport sha256 from \"../../Mysha256.js\";\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nfunction SignUp(props) {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle, setModalStyle] = useState(getModalStyle);\r\n  const [open, setOpen] = useState(true);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [id, setId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [password2, setPassword2] = useState(\"\");\r\n  const [validUsername, setValidUsername] = useState(true);\r\n  const [usernameHelpText, setUsernameHelpText] = useState(\"\");\r\n  const [validId, setValidId] = useState(true);\r\n  const [idHelpText, setIdHelpText] = useState(\"\");\r\n  const [validPassword, setValidPassword] = useState(true);\r\n  const [passwordHelpText, setPasswordHelpText] = useState(\"\");\r\n  const [validPassword2, setValidPassword2] = useState(true);\r\n  const [password2HelpText, setPassword2HelpText] = useState(\"\");\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    props.setSignIn(true);\r\n    props.setOpen(false);\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleSignUp = (e) => {\r\n    e.preventDefault();\r\n    if (username.length === 0) {\r\n      setValidUsername(false);\r\n      setUsername(\"\");\r\n      setUsernameHelpText(\"Username is empty\");\r\n    } else if (username.length > 14) {\r\n      setValidUsername(false);\r\n      setUsername(\"\");\r\n      setUsernameHelpText(\"Username can only contain at most 14 characters!\");\r\n    } else if (!id.match(/[A-Za-z]+[0-9]+/)) {\r\n      setIdHelpText(\"Invalid Id!\\nDon't try to hack me!\");\r\n      setValidId(false);\r\n      setId(\"\");\r\n    } else if (String(password).length < 6) {\r\n      setPasswordHelpText(\"Password is at least 6 characters!\");\r\n      setValidPassword(false);\r\n      setPassword(\"\");\r\n      setPassword2(\"\");\r\n    } else if (String(password) !== String(password2)) {\r\n      setPassword2HelpText(\"Confirm password is different!\");\r\n      setValidPassword2(false);\r\n      setPassword2(\"\");\r\n    } else if (!String(password).match(/[A-Za-z0-9]+/)) {\r\n      setPasswordHelpText(\"Password can only conatain characters and numbers!\");\r\n      setValidPassword(false);\r\n      setPassword(\"\");\r\n      setPassword2(\"\");\r\n    } else {\r\n      createUser({\r\n        name: username,\r\n        id: id,\r\n        password: sha256(password),\r\n        sessionId: \"123\",\r\n        courses: JSON.stringify([]),\r\n      }).then((msg) => {\r\n        if (msg === \"success\") {\r\n          props.setSignIn(true);\r\n        } else {\r\n          setUsernameHelpText(\"User create fail!\");\r\n          setValidUsername(false);\r\n          setUsername(\"\");\r\n          setId(\"\");\r\n          setPassword(\"\");\r\n          setPassword2(\"\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <form className={classes.form} noValidate>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={!validUsername}\r\n          fullWidth\r\n          id=\"username\"\r\n          label=\"姓名\"\r\n          name=\"username\"\r\n          autoComplete=\"username\"\r\n          autoFocus\r\n          onInput={(e) => {\r\n            setUsername(e.target.value);\r\n          }}\r\n          helperText={usernameHelpText}\r\n          onClick={() => {\r\n            setValidUsername(true);\r\n            setUsernameHelpText(\"\");\r\n          }}\r\n          value={username}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={!validId}\r\n          fullWidth\r\n          id=\"id\"\r\n          label=\"學號\"\r\n          name=\"id\"\r\n          autoComplete=\"id\"\r\n          autoFocus\r\n          onInput={(e) => {\r\n            setId(e.target.value);\r\n          }}\r\n          value={id}\r\n          helperText={idHelpText}\r\n          onClick={() => {\r\n            setValidId(true);\r\n            setIdHelpText(\"\");\r\n          }}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={!validPassword}\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"密碼\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onInput={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n          value={password}\r\n          helperText={passwordHelpText}\r\n          onClick={() => {\r\n            setValidPassword(true);\r\n            setPasswordHelpText(\"\");\r\n          }}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={!validPassword2}\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"密碼確認\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onInput={(e) => {\r\n            setPassword2(e.target.value);\r\n          }}\r\n          value={password2}\r\n          helperText={password2HelpText}\r\n          onClick={() => {\r\n            setValidPassword2(true);\r\n            setPassword2HelpText(\"\");\r\n          }}\r\n        />\r\n        <FormControlLabel\r\n          control={<Checkbox value=\"accept\" color=\"primary\" />}\r\n          label=\"I accept the rule\"\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleSignUp}\r\n        >\r\n          Sign Up\r\n        </Button>\r\n        <Grid container justify=\"flex-end\">\r\n          <Grid item>\r\n            <Link\r\n              href=\"#\"\r\n              variant=\"body2\"\r\n              onClick={() => {\r\n                props.setSignIn(true);\r\n              }}\r\n            >\r\n              {\"Already have an account? Sign in\"}\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AppBar as MUIAppBar } from \"@material-ui/core\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n// import Switch from \"@material-ui/core/Switch\";\r\n// import FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n// import FormGroup from \"@material-ui/core/FormGroup\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Login from \"../components/MyAppBar/Login\";\r\nimport SignUp from \"../components/MyAppBar/SignUp\";\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\n// import Link from \"@material-ui/core/Link\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nfunction MyAppBar(props) {\r\n  // const classes = props.classes;\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const [signInOpen, setSignInOpen] = useState(false);\r\n  const [signIn, setSignIn] = useState(true);\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setAnchorEl(null);\r\n    props.setUser(false);\r\n  };\r\n\r\n  return (\r\n    // <div className={classes.root}>\r\n    <MUIAppBar position=\"absolute\" className={clsx(classes.appBar)}>\r\n      <Toolbar className={classes.toolbar}>\r\n        {props.user === false ? (\r\n          <></>\r\n        ) : (\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              props.setOpen(!props.open);\r\n            }}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n        )}\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          國立台灣大學課程網\r\n        </Typography>\r\n        {props.user === false ? (\r\n          // signIn ? (\r\n          //   <Login\r\n          //     setUser={props.setUser}\r\n          //     setSignIn={setSignIn}\r\n          //     open={signInOpen}\r\n          //     setOpen={setSignInOpen}\r\n          //   />\r\n          // ) : (\r\n          //   <SignUp setSignIn={setSignIn} setOpen={setSignInOpen} />\r\n          // )\r\n          <></>\r\n        ) : (\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n              edge=\"end\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={open}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n              <MenuItem onClick={handleClose} component={Link} to=\"/mycourses\">\r\n                My courses\r\n              </MenuItem>\r\n              <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n            </Menu>\r\n          </div>\r\n        )}\r\n      </Toolbar>\r\n    </MUIAppBar>\r\n    // </div>\r\n  );\r\n}\r\n\r\nexport default MyAppBar;\r\n","/** @format */\r\n\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport { TableContainer as MUITableContainer } from \"@material-ui/core\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n  info: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n  tablecell: {\r\n    fontSize: \"12pt\",\r\n  },\r\n  btn: {\r\n    margin: 2,\r\n    paddingTop: 1,\r\n    paddingBottom: 1,\r\n    paddingLeft: 4,\r\n    paddingRight: 4,\r\n    fontSize: \"6pt\",\r\n    // display: \"flex\",\r\n    // flexDirection: \"row\",\r\n  },\r\n});\r\n\r\nconst attributes = [\"修課學期\", \"發布人\", \"推薦指數\", \"一句話總結\"];\r\n\r\nfunction Row(props) {\r\n  const { row } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useRowStyles();\r\n\r\n  // TODO: should add to comment schema and fetch from DB\r\n  // const tags = [\r\n  //   JSON.parse(row.tag1),\r\n  //   JSON.parse(row.tag2),\r\n  //   JSON.parse(row.tag3),\r\n  // ];\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell>\r\n          <IconButton\r\n            aria-label=\"expand row\"\r\n            size=\"small\"\r\n            onClick={() => setOpen(!open)}\r\n          >\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"left\">\r\n          {row.semester}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"left\">\r\n          {row.username}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} component=\"th\" scope=\"row\">\r\n          {row.conclusion}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          <Button\r\n            style={{ background: \"rgba(255, 230, 179, 0.3)\" }}\r\n            className={classes.btn}\r\n          >\r\n            {JSON.parse(row.tag_1).title}\r\n          </Button>\r\n          <Button\r\n            style={{ background: \"rgba(255, 230, 179, 0.3)\" }}\r\n            className={classes.btn}\r\n          >\r\n            {JSON.parse(row.tag_2).title}\r\n          </Button>\r\n          <Button\r\n            style={{ background: \"rgba(255, 230, 179, 0.3)\" }}\r\n            className={classes.btn}\r\n          >\r\n            {JSON.parse(row.tag_3).title}\r\n          </Button>\r\n          {/* {tags.map((tag) => {\r\n            return (\r\n              <Button\r\n                style={{ background: \"rgba(255, 230, 179, 0.3)\" }}\r\n                className={classes.btn}\r\n              >\r\n                {tag.title}\r\n              </Button>\r\n            );\r\n          })} */}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.recomendation}\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow className={classes.info}>\r\n        <TableCell\r\n          className={classes.tablecell}\r\n          style={{ paddingBottom: 0, paddingTop: 0 }}\r\n          colSpan={6}\r\n        >\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                上課用書(影印講義或是指定教科書)\r\n              </Typography>\r\n              <Typography variant=\"p\" gutterBottom component=\"div\">\r\n                {row.book}\r\n                <p></p>\r\n              </Typography>\r\n              <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                上課方式(投影片、團體討論、老師教學風格)\r\n              </Typography>\r\n              <Typography variant=\"p\" gutterBottom component=\"div\">\r\n                {row.teachingStyle}\r\n                <p></p>\r\n              </Typography>\r\n              <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                評分方式(給分甜嗎？是紮實分？)\r\n              </Typography>\r\n              <Typography variant=\"p\" gutterBottom component=\"div\">\r\n                {row.grading}\r\n                <p></p>\r\n              </Typography>\r\n              <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                考題型式、作業方式\r\n              </Typography>\r\n              <Typography variant=\"p\" gutterBottom component=\"div\">\r\n                {row.homework}\r\n                <p></p>\r\n              </Typography>\r\n              <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                其它(是否注重出席率？如果為外系選修，需先有什麼基礎較好嗎？老師個性？\r\n                加簽習慣？嚴禁遲到等…)\r\n              </Typography>\r\n              <Typography variant=\"p\" gutterBottom component=\"div\">\r\n                {row.other}\r\n                <p></p>\r\n              </Typography>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction CommentTable(props) {\r\n  const classes = useRowStyles();\r\n  const comments = props.comments;\r\n\r\n  return (\r\n    <MUITableContainer component={Paper}>\r\n      <Table aria-label=\"collapsible table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell />\r\n            <TableCell className={classes.tablecell} align=\"left\">\r\n              {attributes[0]}\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell} align=\"left\">\r\n              {attributes[1]}\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell} component=\"th\" scope=\"row\">\r\n              {attributes[3]}\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell} align=\"right\">\r\n              HashTag\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell} align=\"right\">\r\n              {attributes[2]}\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {comments.map((comment) => (\r\n            <Row row={comment} />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </MUITableContainer>\r\n  );\r\n}\r\n\r\nexport default CommentTable;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\n\r\nconst filter = createFilterOptions();\r\n\r\nexport default function HashTag(props) {\r\n  const { allTags, setNewTag, value, setValue, updateTag } = props;\r\n  // const [value, setValue] = useState(null);\r\n\r\n  const handleSelect = (e, newValue) => {\r\n    if (typeof newValue === \"string\") {\r\n      setValue({\r\n        title: newValue,\r\n      });\r\n      updateTag({\r\n        title: newValue,\r\n      });\r\n\r\n      let match = false;\r\n      for (let i = 0; i < allTags.length; i++) {\r\n        if (allTags[i].title === newValue) {\r\n          match = true;\r\n          break;\r\n        }\r\n      }\r\n      if (!match) {\r\n        setNewTag({ title: newValue });\r\n        // setAllTags([...allTags, { title: newValue }]);\r\n      }\r\n    } else if (newValue && newValue.inputValue) {\r\n      // Create a new value from the user input\r\n      setValue({\r\n        title: newValue.inputValue,\r\n      });\r\n      updateTag({\r\n        title: newValue.inputValue,\r\n      });\r\n\r\n      let match = false;\r\n      for (let i = 0; i < allTags.length; i++) {\r\n        if (allTags[i].title === newValue.inputValue) {\r\n          match = true;\r\n          break;\r\n        }\r\n      }\r\n      if (!match) {\r\n        setNewTag({ title: newValue.inputValue });\r\n        // setAllTags([...allTags, { title: newValue.inputValue }]);\r\n      }\r\n    } else {\r\n      setValue(newValue);\r\n      updateTag(newValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Autocomplete\r\n      value={value}\r\n      onChange={handleSelect}\r\n      filterOptions={(allTags, params) => {\r\n        const filtered = filter(allTags, params);\r\n\r\n        // Suggest the creation of a new value\r\n        if (params.inputValue !== \"\") {\r\n          filtered.push({\r\n            inputValue: params.inputValue,\r\n            title: `Add \"${params.inputValue}\"`,\r\n          });\r\n        }\r\n\r\n        return filtered;\r\n      }}\r\n      selectOnFocus\r\n      clearOnBlur\r\n      handleHomeEndKeys\r\n      id=\"free-solo-with-text-demo\"\r\n      options={allTags}\r\n      getOptionLabel={(option) => {\r\n        // Value selected with enter, right from the input\r\n        if (typeof option === \"string\") {\r\n          return option;\r\n        }\r\n        // Add \"xxx\" option created dynamically\r\n        if (option.inputValue) {\r\n          return option.inputValue;\r\n        }\r\n        // Regular option\r\n        return option.title;\r\n      }}\r\n      renderOption={(option) => option.title}\r\n      freeSolo\r\n      renderInput={(params) => (\r\n        <TextField {...params} label=\"\" variant=\"outlined\" />\r\n      )}\r\n    />\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport allTags from \"./HashTag\";\r\nimport HashTag from \"./HashTag\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      marginBottom: theme.spacing(1),\r\n      width: \"100%\",\r\n    },\r\n  },\r\n  col_3_block: {\r\n    \"& > div\": {\r\n      margin: theme.spacing(1),\r\n      width: \"31%\",\r\n    },\r\n    display: \"flex\",\r\n    marginTop: theme.spacing(1),\r\n    // width: \"90%\",\r\n  },\r\n  col_2_block: {\r\n    \"& > div\": {\r\n      margin: theme.spacing(1),\r\n      width: \"50%\",\r\n    },\r\n    display: \"flex\",\r\n    marginTop: theme.spacing(1),\r\n    // width: \"90%\",\r\n  },\r\n  col_1_block: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  btn_container: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n  btn: {\r\n    width: \"100px\",\r\n    margin: 10,\r\n  },\r\n}));\r\n\r\nexport default function AddComment(props) {\r\n  const {\r\n    comment,\r\n    setComment,\r\n    handleAddComment,\r\n    handleDeleteComment,\r\n    allTags,\r\n    tag_1,\r\n    tag_2,\r\n    tag_3,\r\n    setTag_1,\r\n    setTag_2,\r\n    setTag_3,\r\n    setNewTag_1,\r\n    setNewTag_2,\r\n    setNewTag_3,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const updateTag_1 = (tag) => {\r\n    setComment({ ...comment, tag_1: JSON.stringify(tag) });\r\n  };\r\n  const updateTag_2 = (tag) => {\r\n    setComment({ ...comment, tag_2: JSON.stringify(tag) });\r\n  };\r\n  const updateTag_3 = (tag) => {\r\n    setComment({ ...comment, tag_3: JSON.stringify(tag) });\r\n  };\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <div className={classes.col_2_block}>\r\n        <div>\r\n          <Typography variant=\"h6\" component=\"h2\">\r\n            修課學期\r\n          </Typography>\r\n          <TextField\r\n            id=\"outlined-multiline-flexible\"\r\n            value={comment.semester}\r\n            onChange={(e) => {\r\n              setComment((comment) => ({\r\n                ...comment,\r\n                semester: e.target.value,\r\n              }));\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Typography variant=\"h6\" component=\"h2\">\r\n            推薦指數★★★★★\r\n          </Typography>\r\n          <TextField\r\n            id=\"outlined-textarea\"\r\n            value={comment.recomendation}\r\n            onChange={(e) => {\r\n              setComment((comment) => ({\r\n                ...comment,\r\n                recomendation: e.target.value,\r\n              }));\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={classes.col_1_block}>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          上課用書(影印講義或是指定教科書)\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          multiline\r\n          rows={4}\r\n          value={comment.book}\r\n          onChange={(e) => {\r\n            setComment((comment) => ({\r\n              ...comment,\r\n              book: e.target.value,\r\n            }));\r\n          }}\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n      <div className={classes.col_1_block}>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          上課方式(投影片、團體討論、老師教學風格)\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          multiline\r\n          rows={4}\r\n          value={comment.teachingStyle}\r\n          onChange={(e) => {\r\n            setComment((comment) => ({\r\n              ...comment,\r\n              teachingStyle: e.target.value,\r\n            }));\r\n          }}\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n      <div className={classes.col_1_block}>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          評分方式(給分甜嗎？是紮實分？)\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          multiline\r\n          rows={4}\r\n          value={comment.grading}\r\n          onChange={(e) => {\r\n            setComment((comment) => ({\r\n              ...comment,\r\n              grading: e.target.value,\r\n            }));\r\n          }}\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n      <div className={classes.col_1_block}>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          考題型式、作業方式\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          multiline\r\n          rows={4}\r\n          value={comment.homework}\r\n          onChange={(e) => {\r\n            setComment((comment) => ({\r\n              ...comment,\r\n              homework: e.target.value,\r\n            }));\r\n          }}\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n      <div className={classes.col_1_block}>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          其它(是否注重出席率？如果為外系選修，需先有什麼基礎較好嗎？老師個性？加簽習慣？嚴禁遲到等…)\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          multiline\r\n          rows={4}\r\n          value={comment.other}\r\n          onChange={(e) => {\r\n            setComment((comment) => ({\r\n              ...comment,\r\n              other: e.target.value,\r\n            }));\r\n          }}\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n      <div className={classes.col_1_block}>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          一句話總結\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          multiline\r\n          rows={2}\r\n          value={comment.conclusion}\r\n          onChange={(e) => {\r\n            setComment((comment) => ({\r\n              ...comment,\r\n              conclusion: e.target.value,\r\n            }));\r\n          }}\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n      <div className={classes.col_3_block}>\r\n        <div>\r\n          <Typography variant=\"h6\" component=\"h2\">\r\n            HashTag\r\n          </Typography>\r\n          <HashTag\r\n            allTags={allTags}\r\n            setNewTag={setNewTag_1}\r\n            value={tag_1}\r\n            setValue={setTag_1}\r\n            updateTag={updateTag_1}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Typography variant=\"h6\" component=\"h2\">\r\n            HashTag\r\n          </Typography>\r\n          <HashTag\r\n            allTags={allTags}\r\n            setNewTag={setNewTag_2}\r\n            value={tag_2}\r\n            setValue={setTag_2}\r\n            updateTag={updateTag_2}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Typography variant=\"h6\" component=\"h2\">\r\n            HashTag\r\n          </Typography>\r\n          <HashTag\r\n            allTags={allTags}\r\n            setNewTag={setNewTag_3}\r\n            value={tag_3}\r\n            setValue={setTag_3}\r\n            updateTag={updateTag_3}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={classes.btn_container}>\r\n        <Button\r\n          variant=\"contained\"\r\n          className={classes.btn}\r\n          onClick={handleAddComment}\r\n        >\r\n          發表評論\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          className={classes.btn}\r\n          onClick={handleDeleteComment}\r\n        >\r\n          刪除評論\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CommentTable from \"../components/CommentPage/CommentTable\";\r\nimport AddComment from \"../components/CommentPage/AddComment\";\r\n\r\nimport {\r\n  createComment,\r\n  deleteComment,\r\n  findCourse,\r\n  findUserComment,\r\n  createTag,\r\n  updateComment,\r\n  updateCourse,\r\n} from \"../axios\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`tabpanel-${index}`}\r\n      {...other}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  test: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    width: \"80%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nexport default function CommentPage(props) {\r\n  const {\r\n    comments,\r\n    commentId,\r\n    user,\r\n    setComments,\r\n    findTags,\r\n    allTags,\r\n    setAllTags,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = useState(0);\r\n  const [hasCommentAlready, setHasCommentAlready] = useState(false);\r\n\r\n  const [tag_1, setTag_1] = useState(null);\r\n  const [tag_2, setTag_2] = useState(null);\r\n  const [tag_3, setTag_3] = useState(null);\r\n  const [newTag_1, setNewTag_1] = useState(null);\r\n  const [newTag_2, setNewTag_2] = useState(null);\r\n  const [newTag_3, setNewTag_3] = useState(null);\r\n\r\n  // console.log(newTag_1);\r\n  // console.log(newTag_2);\r\n  // console.log(newTag_3);\r\n\r\n  const commentInit = {\r\n    id: commentId,\r\n    username: user.name,\r\n    semester: \"\",\r\n    recomendation: \"\",\r\n    book: \"\",\r\n    teachingStyle: \"\",\r\n    grading: \"\",\r\n    homework: \"\",\r\n    other: \"\",\r\n    conclusion: \"\",\r\n    tag_1: \"\",\r\n    tag_2: \"\",\r\n    tag_3: \"\",\r\n  };\r\n\r\n  const [comment, setComment] = useState(commentInit);\r\n\r\n  // TODO: fetch the user's comment when entering the page\r\n  useEffect(async () => {\r\n    // console.log(\"user: \", user);\r\n    if (user.id !== undefined) {\r\n      let next_comments = await findUserComment(commentId, user.name);\r\n      if (next_comments === null) {\r\n        setComment(commentInit);\r\n      } else {\r\n        setComment(next_comments);\r\n        setHasCommentAlready(true);\r\n        // console.log(\"next_comments: \", next_comments);\r\n      }\r\n    } else {\r\n      setComment(commentInit);\r\n    }\r\n    await findTags();\r\n    // setAllTags(data);\r\n    // console.log(\"alltags: \", allTags);\r\n\r\n    // console.log(next_comments);\r\n  }, [commentId]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleChangeIndex = (index) => {\r\n    setValue(index);\r\n  };\r\n\r\n  const handleAddComment = async () => {\r\n    console.log(\"handleAddComment\");\r\n    console.log(comment);\r\n    let courseData = commentId.split(\"_\");\r\n    if (!hasCommentAlready) {\r\n      createComment(comment).then((msg) => {\r\n        if (msg === \"success\") {\r\n          setComments([...comments, comment]);\r\n          setValue(0);\r\n        } else {\r\n          console.log(\"fail to create comment\");\r\n        }\r\n      });\r\n      let courses = await findCourse({\r\n        courseName: courseData[0],\r\n        professor: courseData[1],\r\n      });\r\n      let newtags = [\r\n        JSON.parse(comment.tag_1).title,\r\n        JSON.parse(comment.tag_2).title,\r\n        JSON.parse(comment.tag_3).title,\r\n      ];\r\n      console.log(courses[0]);\r\n      console.log(courses[0].tags);\r\n      let next_tags = [...JSON.parse(courses[0].tags)];\r\n      let exist_flag = [false, false, false];\r\n      for (let i = 0; i < next_tags.length; i++) {\r\n        for (let j = 0; j < newtags.length; j++) {\r\n          if (newtags[j] === next_tags[i]) {\r\n            exist_flag[j] = true;\r\n          }\r\n        }\r\n      }\r\n      for (let j = 0; j < newtags.length; j++) {\r\n        if (exist_flag[j] === false) {\r\n          next_tags.push(newtags[j]);\r\n        }\r\n      }\r\n      updateCourse(courseData[0], courseData[1], JSON.stringify(next_tags));\r\n    } else {\r\n      updateComment(commentId, user.name, comment).then((msg) => {\r\n        if (msg === \"success\") {\r\n          let updateIndex = comments.findIndex((x) => {\r\n            return x.id === commentId && x.username === user.name;\r\n          });\r\n          let next_comments = [...comments];\r\n          next_comments[updateIndex] = comment;\r\n          setComments(next_comments);\r\n          setValue(0);\r\n          // console.log(\"update comment success\");\r\n        } else {\r\n          console.log(\"fail to update comment\");\r\n        }\r\n      });\r\n      // console.log([comment.tag_1, comment.tag_2, comment.tag_3]);\r\n\r\n      updateCourse(\r\n        courseData[0],\r\n        courseData[1],\r\n        JSON.stringify([\r\n          JSON.parse(comment.tag_1).title,\r\n          JSON.parse(comment.tag_2).title,\r\n          JSON.parse(comment.tag_3).title,\r\n        ])\r\n      );\r\n    }\r\n\r\n    if (newTag_1) {\r\n      createTag(newTag_1).then((msg) => {\r\n        if (msg === \"success\") {\r\n          // setAllTags([...allTags, newTag_1]);\r\n          setNewTag_1(null);\r\n        } else {\r\n          console.log(\"fail to create tag1\");\r\n        }\r\n      });\r\n    }\r\n    if (newTag_2) {\r\n      createTag(newTag_2).then((msg) => {\r\n        if (msg === \"success\") {\r\n          // setAllTags([...allTags, newTag_2]);\r\n          setNewTag_2(null);\r\n        } else {\r\n          console.log(\"fail to create tag2\");\r\n        }\r\n      });\r\n    }\r\n    if (newTag_3) {\r\n      createTag(newTag_3).then((msg) => {\r\n        if (msg === \"success\") {\r\n          // setAllTags([...allTags, newTag_3]);\r\n          setNewTag_3(null);\r\n        } else {\r\n          console.log(\"fail to create tag3\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  // TODO: delete comment of the given user\r\n  const handleDeleteComment = async () => {\r\n    const deleteIndex = comments.findIndex((x) => x.username === user.name);\r\n    if (deleteIndex !== -1) {\r\n      let next_comments = [...comments];\r\n      next_comments.splice(deleteIndex, 1);\r\n      let message = await deleteComment(\r\n        comments[deleteIndex].id,\r\n        comments[deleteIndex].username\r\n      );\r\n      let deletedTag_1 = comments[deleteIndex].tag_1;\r\n      let deletedTag_2 = comments[deleteIndex].tag_2;\r\n      let deletedTag_3 = comments[deleteIndex].tag_3;\r\n      if (message === \"error\") {\r\n        alert(\"some error needed to fix\");\r\n      }\r\n      setComments(next_comments);\r\n      setComment(commentInit);\r\n      setValue(0);\r\n      setTag_1(null);\r\n      setTag_2(null);\r\n      setTag_3(null);\r\n    }\r\n    // setComment(commentInit);\r\n  };\r\n\r\n  // all tabs object\r\n  const tabList = [\r\n    {\r\n      所有評論: <CommentTable comments={comments} />,\r\n    },\r\n    {\r\n      \"加入/修改評論\": (\r\n        <AddComment\r\n          comment={comment}\r\n          setComment={setComment}\r\n          comments={comments}\r\n          setComments={setComments}\r\n          handleAddComment={handleAddComment}\r\n          handleDeleteComment={handleDeleteComment}\r\n          allTags={allTags}\r\n          setAllTags={setAllTags}\r\n          tag_1={tag_1}\r\n          tag_2={tag_2}\r\n          tag_3={tag_3}\r\n          setTag_1={setTag_1}\r\n          setTag_2={setTag_2}\r\n          setTag_3={setTag_3}\r\n          setNewTag_1={setNewTag_1}\r\n          setNewTag_2={setNewTag_2}\r\n          setNewTag_3={setNewTag_3}\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={classes.test}>\r\n      <div className={classes.root}>\r\n        <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n          {commentId}\r\n        </Typography>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs value={value} onChange={handleChange} indicatorColor=\"primary\">\r\n            {tabList.map((item) => {\r\n              return <Tab label={Object.keys(item)[0]} />;\r\n            })}\r\n          </Tabs>\r\n        </AppBar>\r\n        <SwipeableViews\r\n          axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\r\n          index={value}\r\n          onChangeIndex={(e) => handleChangeIndex(e.target.inedex)}\r\n        >\r\n          {tabList.map((item, index) => {\r\n            return (\r\n              <TabPanel value={value} index={index} dir={theme.direction}>\r\n                {Object.values(item)[0]}\r\n              </TabPanel>\r\n            );\r\n          })}\r\n        </SwipeableViews>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport { TableContainer as MUITableContainer } from \"@material-ui/core\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport CommentIcon from \"@material-ui/icons/Comment\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport CommentPage from \"./CommentPage\";\r\nimport { findComment, updateUser } from \"../axios\";\r\n\r\nconst useRowStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n  info: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n  tablecell: {\r\n    // padding: \"8px 4px 8px 4px\",\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    fontSize: \"8pt\",\r\n    textAlign: \"center\",\r\n  },\r\n  tablecellRemark: {\r\n    // padding: \"8px 4px 8px 4px\",\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    fontSize: \"8pt\",\r\n    textAlign: \"left\",\r\n  },\r\n  btn: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nfunction Row(props) {\r\n  const {\r\n    row,\r\n    myCourse,\r\n    setMyCourse,\r\n    setCommentId,\r\n    handleOpenComment,\r\n    handleCloseComment,\r\n  } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const deleteIndex = myCourse.findIndex(\r\n    (x) =>\r\n      // x.serialNumber + x.designatedFor === row.serialNumber + row.designatedFor\r\n      x._id === row._id\r\n    // console.log(row._id);\r\n  );\r\n  const added = deleteIndex === -1 ? false : true;\r\n  const classes = useRowStyles();\r\n\r\n  const handleAddBtn = async () => {\r\n    let next_myCourse = [...myCourse];\r\n    if (added) {\r\n      next_myCourse.splice(deleteIndex, 1);\r\n      setMyCourse(next_myCourse);\r\n    } else {\r\n      next_myCourse.push(row);\r\n      setMyCourse(next_myCourse);\r\n    }\r\n    // console.log(next_myCourse[0]);\r\n    if (props.user) {\r\n      await updateUser(props.user.id, JSON.stringify(next_myCourse));\r\n    }\r\n  };\r\n\r\n  const handleCommentBtn = () => {\r\n    setCommentId(row.courseName + \"_\" + row.professor);\r\n    handleOpenComment(row.courseName + \"_\" + row.professor);\r\n    // setPageIndex(2);\r\n    // console.log(row.courseName + \"_\" + row.professor);\r\n  };\r\n\r\n  const numToCh = {\r\n    1: \"一\",\r\n    2: \"二\",\r\n    3: \"三\",\r\n    4: \"四\",\r\n    5: \"五\",\r\n    6: \"六\",\r\n  };\r\n  let timeClassroom = \"\";\r\n  let validDayCount = 0;\r\n  for (let i = 1; i <= 6; i++) {\r\n    if (row[\"day\" + String(i)]) {\r\n      validDayCount++;\r\n    }\r\n  }\r\n  // let classroom = \"\";\r\n  // // if (row.classroom )\r\n  // if (validDayCount > 0) {\r\n  //   for (let i = 0; i < row.classroom.length / validDayCount; i++) {\r\n  //     classroom += row.classroom[i];\r\n  //   }\r\n  // }\r\n  let classrooms = row.classroom.split(\",\");\r\n  let j = 0;\r\n  for (let i = 1; i <= 6; i++) {\r\n    // console.log(row[\"day1\"]);\r\n    // console.log(row[\"day\" + \"1\"]);\r\n    if (row[\"day\" + String(i)]) {\r\n      timeClassroom += numToCh[i];\r\n      timeClassroom += row[\"time\" + String(i)];\r\n      timeClassroom += \"(\" + classrooms[j] + \")\";\r\n      // timeClassroom += <br />;\r\n      j++;\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell>\r\n          <IconButton\r\n            aria-label=\"expand row\"\r\n            size=\"small\"\r\n            onClick={() => setOpen(!open)}\r\n            // className={classes.tablecell}\r\n          >\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"left\">\r\n          {row.courseCode}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"left\">\r\n          {row.designatedFor}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} component=\"th\" scope=\"row\">\r\n          {row.courseName}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.professor}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.credit}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {timeClassroom}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.people.split(\"(\")[0]}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecellRemark} align=\"right\">\r\n          {row.remark}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          <IconButton\r\n            color={added ? \"primary\" : \"default\"}\r\n            disabled={added ? true : false}\r\n            aria-label=\"add\"\r\n            id={row._id}\r\n            className={classes.btn}\r\n            onClick={handleAddBtn}\r\n          >\r\n            <AddBoxIcon />\r\n          </IconButton>\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          <IconButton\r\n            aria-label=\"add\"\r\n            // id={row.id + row.class}\r\n            id={row._id}\r\n            className={classes.btn}\r\n            onClick={handleCommentBtn}\r\n          >\r\n            <CommentIcon />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow className={classes.info}>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={11}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Typography variant=\"p\" gutterBottom component=\"div\">\r\n                {row.remark}\r\n              </Typography>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  firstRowCell: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    textAlign: \"center\",\r\n  },\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    width: \"80%\",\r\n    height: \"80%\",\r\n    overflow: \"scroll\",\r\n  },\r\n}));\r\n\r\nfunction SearchCourseTable(props) {\r\n  const {\r\n    courses,\r\n    myCourse,\r\n    setMyCourse,\r\n    user,\r\n    findTags,\r\n    allTags,\r\n    setAllTags,\r\n  } = props;\r\n  const [commentId, setCommentId] = useState(\"\");\r\n  const [openComment, setOpenComment] = useState(false);\r\n  const [comments, setComments] = useState([]);\r\n  const findComments = async (id) => {\r\n    // console.log(id);\r\n    let data = await findComment(id);\r\n    // console.log(data);\r\n    setComments(data);\r\n  };\r\n\r\n  const handleOpenComment = async (id) => {\r\n    await findComments(id);\r\n    setOpenComment(true);\r\n  };\r\n\r\n  const handleCloseComment = () => {\r\n    setOpenComment(false);\r\n  };\r\n\r\n  const attributes = [\r\n    \"課號\",\r\n    \"授課對象\",\r\n    \"課程名稱\",\r\n    \"教授\",\r\n    \"學分\",\r\n    \"時間教室\",\r\n    \"人數\",\r\n    \"備註\",\r\n    \"加入\",\r\n    \"評論\",\r\n  ];\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n  // const courses = props.courses;\r\n  // const myCourse = props.myCourse;\r\n  // const setMyCourse = props.setMyCourse;\r\n  const classes = useStyle();\r\n  return (\r\n    <>\r\n      <MUITableContainer component={Paper}>\r\n        <Table aria-label=\"collapsible table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell style={{ width: \"6%\" }} />\r\n              <TableCell\r\n                align=\"left\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"8%\" }}\r\n              >\r\n                {\" \"}\r\n                {attributes[0]}{\" \"}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"left\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"8%\" }}\r\n              >\r\n                {\" \"}\r\n                {attributes[1]}\r\n              </TableCell>\r\n              <TableCell\r\n                // component=\"th\"\r\n                className={classes.firstRowCell}\r\n                scope=\"row\"\r\n                style={{ width: \"10%\" }}\r\n              >\r\n                {attributes[2]}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"left\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"6%\" }}\r\n              >\r\n                {attributes[3]}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"left\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"4.5%\" }}\r\n              >\r\n                {attributes[4]}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"right\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"10%\" }}\r\n              >\r\n                {attributes[5]}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"right\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"4.5%\" }}\r\n              >\r\n                {attributes[6]}\r\n              </TableCell>\r\n              <TableCell align=\"right\" className={classes.firstRowCell}>\r\n                {attributes[7]}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"right\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"4.5%\" }}\r\n              >\r\n                {attributes[8]}\r\n              </TableCell>\r\n              <TableCell\r\n                align=\"right\"\r\n                className={classes.firstRowCell}\r\n                style={{ width: \"4.5%\" }}\r\n              >\r\n                {attributes[9]}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {courses\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map((course) => (\r\n                <Row\r\n                  key={course.courseNum}\r\n                  row={course}\r\n                  myCourse={myCourse}\r\n                  user={props.user}\r\n                  setMyCourse={setMyCourse}\r\n                  setCommentId={setCommentId}\r\n                  handleOpenComment={handleOpenComment}\r\n                  handleCloseComment={handleCloseComment}\r\n                />\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n        <Modal\r\n          aria-labelledby=\"transition-modal-title\"\r\n          aria-describedby=\"transition-modal-description\"\r\n          className={classes.modal}\r\n          open={openComment}\r\n          onClose={handleCloseComment}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={openComment}>\r\n            <div className={classes.paper}>\r\n              <CommentPage\r\n                comments={comments}\r\n                setComments={setComments}\r\n                commentId={commentId}\r\n                user={user}\r\n                findTags={findTags}\r\n                allTags={allTags}\r\n                setAllTags={setAllTags}\r\n              />\r\n            </div>\r\n          </Fade>\r\n        </Modal>\r\n      </MUITableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 100]}\r\n        component=\"div\"\r\n        count={courses.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchCourseTable;\r\n","/** @format */\r\n\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\n\r\nconst drawerWidth = 240;\r\nconst useStyles = makeStyles((theme) => ({\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: 0,\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: 0,\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  list: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(2),\r\n    paddingTop: theme.spacing(2),\r\n    align: \"center\",\r\n  },\r\n  notSelect: {\r\n    color: \"default\",\r\n  },\r\n  select: {\r\n    color: \"blue\",\r\n  },\r\n  notSelectText: {\r\n    color: \"black\",\r\n  },\r\n}));\r\n\r\nfunction Sidebar(props) {\r\n  const { pages, open, pageIndex, setPageIndex } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"permanent\"\r\n      classes={{\r\n        paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n      }}\r\n      anchor=\"left\"\r\n      open={open}\r\n    >\r\n      <List className={classes.list}>\r\n        <ListItem className={classes.appBarSpacer} key={0}></ListItem>\r\n        {pages.map((page, index) => {\r\n          return (\r\n            <ListItem\r\n              key={index + 1}\r\n              component={Link}\r\n              onClick={() => setPageIndex(index)}\r\n              className={\r\n                pageIndex === index ? classes.select : classes.notSelect\r\n              }\r\n            >\r\n              <ListItemIcon\r\n                className={\r\n                  pageIndex === index ? classes.select : classes.notSelect\r\n                }\r\n              >\r\n                {page.icon}\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary={page.title}\r\n                className={\r\n                  pageIndex === index ? classes.select : classes.notSelectText\r\n                }\r\n              />\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </List>\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport conditionOptions from \"../../conditonOptions.json\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& .MuiTextField-root\": {\r\n      minWidth: 120,\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    \"& .MuiFormControlLabel-root\": {\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(2),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  searchInput: {\r\n    margin: theme.spacing(2),\r\n    // minWidth: 300, doesn't work\r\n    maxWidth: 300,\r\n  },\r\n}));\r\n\r\nconst options = [\"必修\", \"選修\", \"服學\"];\r\nconst years = [\"大一\", \"大二\", \"大三\", \"大四\", \"研究所\"];\r\n\r\nfunction DepartmentSearch(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const classes = useStyles();\r\n  const [optionSelected, setOption] = useState([\"必修\", \"選修\"]);\r\n  const [yearSelected, setYear] = useState([\"大一\", \"大二\", \"大三\", \"大四\"]);\r\n\r\n  const handleCheckYear = (e) => {\r\n    setYear(e.target.value);\r\n    let booleanYears = [false, false, false, false];\r\n    e.target.value.map((year) => {\r\n      let index = years.indexOf(year);\r\n      if (index > -1) {\r\n        if (index == 4) {\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            研究所: true,\r\n          });\r\n        } else {\r\n          booleanYears[index] = true;\r\n        }\r\n      }\r\n    });\r\n    setSearchConditions({\r\n      ...searchConditions,\r\n      年級: booleanYears,\r\n    });\r\n  };\r\n\r\n  const handleCheckOption = (e) => {\r\n    setOption(e.target.value);\r\n    let next_searchConditions = { ...searchConditions };\r\n    options.map((option) => {\r\n      if (e.target.value.indexOf(option) > -1) {\r\n        next_searchConditions[option] = true;\r\n      } else {\r\n        next_searchConditions[option] = false;\r\n      }\r\n    });\r\n    setSearchConditions(next_searchConditions);\r\n  };\r\n\r\n  // console.log(searchConditions);\r\n\r\n  let option_list1 = Object.keys(conditionOptions); // 學院\r\n  let option_list2 = []; // 系所\r\n  let option_list3 = []; // 組別\r\n\r\n  if (searchConditions[\"學院\"] !== \"\") {\r\n    option_list2 = Object.keys(conditionOptions[searchConditions[\"學院\"]]);\r\n\r\n    if (searchConditions[\"系所\"] !== \"\") {\r\n      option_list3 =\r\n        conditionOptions[searchConditions[\"學院\"]][searchConditions[\"系所\"]];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <TextField\r\n        id=\"standard-selection\"\r\n        select\r\n        label=\"學院\"\r\n        value={searchConditions[\"學院\"]}\r\n        onChange={(e) => {\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            學院: e.target.value,\r\n            系所: \"\",\r\n            組別: \"\",\r\n          });\r\n        }}\r\n      >\r\n        <MenuItem value=\"\">None</MenuItem>\r\n        {option_list1.map((option) => (\r\n          <MenuItem value={option} key={option}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        id=\"standard-selection\"\r\n        select\r\n        label=\"系所\"\r\n        value={searchConditions[\"系所\"]}\r\n        onChange={(e) => {\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            系所: e.target.value,\r\n            組別: \"\",\r\n          });\r\n        }}\r\n      >\r\n        <MenuItem value=\"\">None</MenuItem>\r\n        {option_list2.map((option) => (\r\n          <MenuItem value={option} key={option}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        id=\"standard-selection\"\r\n        select\r\n        label=\"組別\"\r\n        value={searchConditions[\"組別\"]}\r\n        onChange={(e) => {\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            組別: e.target.value,\r\n          });\r\n        }}\r\n      >\r\n        <MenuItem value=\"\">None</MenuItem>\r\n        {option_list3.map((option) => (\r\n          <MenuItem value={option} key={option}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"課名\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            課名: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"教師名稱\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            教師名稱: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">年級</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={yearSelected}\r\n          onChange={handleCheckYear}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.join(\", \")}\r\n        >\r\n          {years.map((year) => (\r\n            <MenuItem key={year} value={year}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={yearSelected.indexOf(year) > -1}\r\n              />\r\n              <ListItemText primary={year} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">其他選項</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={optionSelected}\r\n          onChange={handleCheckOption}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.join(\", \")}\r\n        >\r\n          {options.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={optionSelected.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default DepartmentSearch;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& .MuiTextField-root\": {\r\n      minWidth: 120,\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    \"& .MuiFormControlLabel-root\": {\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(2),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  searchInput: {\r\n    margin: theme.spacing(2),\r\n    // minWidth: 300, doesn't work\r\n    maxWidth: 300,\r\n  },\r\n}));\r\n\r\nconst option_list1 = [\"流水號\", \"課號\", \"課程識別碼\", \"教室\"];\r\nconst option_list2 = [1, 2, 3];\r\nconst option_list3 = [\r\n  \"體育\",\r\n  \"國英外文\",\r\n  \"跨校課程\",\r\n  \"學程\",\r\n  \"大學部\",\r\n  \"研究所\",\r\n  \"其他全校性課程\",\r\n];\r\nfunction AllSearch(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const [select_1, setSelect_1] = useState(\"\");\r\n  const [select_2, setSelect_2] = useState(option_list2);\r\n  const [select_3, setSelect_3] = useState([\"大學部\"]);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">搜尋項目</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={select_1}\r\n          onChange={(e) => {\r\n            setSelect_1(e.target.value);\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">None</MenuItem>\r\n          {option_list1.map((option) => (\r\n            <MenuItem value={option} key={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label={select_1 === \"\" ? \"請選擇搜尋項目\" : select_1}\r\n        type=\"search\"\r\n        disabled={select_1 === \"\"}\r\n        // onChange={(e) => setInput(e.target.value)}\r\n        onChange={(e) => {\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            [select_1]: e.target.value,\r\n          });\r\n        }}\r\n      />\r\n\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"課名\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            課名: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"教師名稱\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            教師名稱: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <FormControl className={classes.formControl}>\r\n        {/* <InputLabel id=\"mutiple-checkbox-label\">加選方式</InputLabel> */}\r\n        <InputLabel id=\"mutiple-checkbox-label\"></InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_2}\r\n          onChange={(e) => {\r\n            setSelect_2(e.target.value);\r\n            let booleanOptions = [false, false, false];\r\n            e.target.value.map((option) => {\r\n              let index = option_list2.indexOf(option);\r\n              if (index > -1) {\r\n                booleanOptions[index] = true;\r\n              }\r\n            });\r\n            setSearchConditions({\r\n              ...searchConditions,\r\n              加選方式: booleanOptions,\r\n            });\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.sort().join(\", \")}\r\n        >\r\n          {option_list2.map((option) => {\r\n            return (\r\n              <MenuItem key={option} value={option}>\r\n                <Checkbox\r\n                  color=\"primary\"\r\n                  checked={select_2.indexOf(option) > -1}\r\n                />\r\n                <ListItemText primary={option} />\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        {/* <InputLabel id=\"mutiple-checkbox-label\">其他選項</InputLabel> */}\r\n        <InputLabel id=\"mutiple-checkbox-label\"></InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_3}\r\n          onChange={(e) => {\r\n            setSelect_3(e.target.value);\r\n            let next_searchConditions = { ...searchConditions };\r\n            option_list3.map((option) => {\r\n              if (e.target.value.indexOf(option) > -1) {\r\n                next_searchConditions[option] = true;\r\n              } else {\r\n                next_searchConditions[option] = false;\r\n              }\r\n            });\r\n            setSearchConditions(next_searchConditions);\r\n          }}\r\n          input={<Input />}\r\n          renderValue={() => {\r\n            return \"其他選項\";\r\n          }}\r\n        >\r\n          {option_list3.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_3.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </form>\r\n  );\r\n}\r\nexport default AllSearch;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& .MuiTextField-root\": {\r\n      minWidth: 120,\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    \"& .MuiFormControlLabel-root\": {\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(2),\r\n    minWidth: 120,\r\n    maxWidth: 400,\r\n  },\r\n  searchInput: {\r\n    margin: theme.spacing(2),\r\n    // minWidth: 300, doesn't work\r\n    maxWidth: 300,\r\n  },\r\n}));\r\n\r\nconst option_list1 = [\r\n  \"A1:文學與藝術\",\r\n  \"A2:歷史思維\",\r\n  \"A3:世界文明\",\r\n  \"A4:哲學與道德思考\",\r\n  \"A5:公民意識與社會分析\",\r\n  \"A6:量化分析與數學素養\",\r\n  \"A7:物質科學\",\r\n  \"A8:生命科學\",\r\n];\r\nconst option_list2 = [1, 2, 3];\r\nconst option_list3 = [\"含小組討論\", \"跨校課程\"];\r\n\r\nfunction GeneralSearch(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const classes = useStyles();\r\n  const [select_1, setSelect_1] = useState([]);\r\n  const [select_2, setSelect_2] = useState(option_list2);\r\n  const [select_3, setSelect_3] = useState([\"含小組討論\"]);\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">通識領域</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_1}\r\n          onChange={(e) => {\r\n            setSelect_1(e.target.value);\r\n            let booleanOptions = [\r\n              false,\r\n              false,\r\n              false,\r\n              false,\r\n              false,\r\n              false,\r\n              false,\r\n            ];\r\n            e.target.value.map((option) => {\r\n              let index = option_list1.indexOf(option);\r\n              if (index > -1) {\r\n                booleanOptions[index] = true;\r\n              }\r\n            });\r\n            setSearchConditions({\r\n              ...searchConditions,\r\n              通識領域: booleanOptions,\r\n            });\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => {\r\n            // console.log(selected);\r\n            // selected.sort();\r\n            let show = [];\r\n            for (let i = 0; i < selected.length; i++) {\r\n              show.push(selected[i].split(\":\")[0]);\r\n            }\r\n            show.sort();\r\n            return show.join(\", \");\r\n          }}\r\n        >\r\n          {option_list1.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_1.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"課名\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            課名: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"教師名稱\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            教師名稱: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">加選方式</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_2}\r\n          onChange={(e) => {\r\n            setSelect_2(e.target.value);\r\n            let booleanOptions = [false, false, false];\r\n            e.target.value.map((option) => {\r\n              let index = option_list2.indexOf(option);\r\n              if (index > -1) {\r\n                booleanOptions[index] = true;\r\n              }\r\n            });\r\n            setSearchConditions({\r\n              ...searchConditions,\r\n              加選方式: booleanOptions,\r\n            });\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.join(\", \")}\r\n        >\r\n          {option_list2.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_2.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">其他選項</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_3}\r\n          onChange={(e) => {\r\n            setSelect_3(e.target.value);\r\n            let next_searchConditions = { ...searchConditions };\r\n            option_list3.map((option) => {\r\n              if (e.target.value.indexOf(option) > -1) {\r\n                next_searchConditions[option] = true;\r\n              } else {\r\n                next_searchConditions[option] = false;\r\n              }\r\n            });\r\n            setSearchConditions(next_searchConditions);\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.sort().join(\", \")}\r\n        >\r\n          {option_list3.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_3.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default GeneralSearch;\r\n","/** @format */\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& .MuiTextField-root\": {\r\n      minWidth: 120,\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    \"& .MuiFormControlLabel-root\": {\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(2),\r\n    minWidth: 200,\r\n    maxWidth: 400,\r\n  },\r\n  searchInput: {\r\n    margin: theme.spacing(2),\r\n    // minWidth: 300, doesn't work\r\n    maxWidth: 300,\r\n  },\r\n}));\r\n\r\nconst option_list1 = [\"國文\", \"英文\", \"外文\", \"進階英文\", \"體育\"];\r\nconst option_list2 = [1, 2, 3];\r\n\r\nfunction CommonSearch(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const classes = useStyles();\r\n  const [select_1, setSelect_1] = useState([]);\r\n  const [select_2, setSelect_2] = useState(option_list2);\r\n  const [select_3, setSelect_3] = useState([]);\r\n\r\n  // const option_list3 = [\"含小組討論\", \"校際課程\"];\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">搜尋項目</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_1}\r\n          onChange={(e) => {\r\n            setSelect_1(e.target.value);\r\n            let next_searchConditions = { ...searchConditions };\r\n            option_list1.map((option) => {\r\n              if (e.target.value.indexOf(option) > -1) {\r\n                next_searchConditions[option] = true;\r\n              } else {\r\n                next_searchConditions[option] = false;\r\n              }\r\n            });\r\n            setSearchConditions(next_searchConditions);\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.join(\", \")}\r\n        >\r\n          {option_list1.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_1.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"課名\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            課名: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"教師名稱\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            教師名稱: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">加選方式</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_2}\r\n          onChange={(e) => {\r\n            setSelect_2(e.target.value);\r\n            let booleanOptions = [false, false, false];\r\n            e.target.value.map((option) => {\r\n              let index = option_list2.indexOf(option);\r\n              if (index > -1) {\r\n                booleanOptions[index] = true;\r\n              }\r\n            });\r\n            setSearchConditions({\r\n              ...searchConditions,\r\n              加選方式: booleanOptions,\r\n            });\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.sort().join(\", \")}\r\n        >\r\n          {option_list2.map((option, i) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_2.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      {/* <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">其他選項</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_3}\r\n          onChange={(e) => {\r\n            setSelect_3(e.target.value);\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.join(\", \")}\r\n        >\r\n          {option_list3.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_3.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl> */}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default CommonSearch;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& .MuiTextField-root\": {\r\n      minWidth: 120,\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    \"& .MuiFormControlLabel-root\": {\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(2),\r\n    minWidth: 200,\r\n    maxWidth: 400,\r\n  },\r\n  searchInput: {\r\n    margin: theme.spacing(2),\r\n    // minWidth: 300, doesn't work\r\n    maxWidth: 300,\r\n  },\r\n}));\r\n\r\nconst option_list1 = [\r\n  \"軍訓\",\r\n  \"共同選修\",\r\n  \"新生專題\",\r\n  \"寫作教學\",\r\n  \"基本能力課程\",\r\n];\r\nconst option_list2 = [1, 2, 3];\r\n\r\nfunction OtherSearch(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const classes = useStyles();\r\n  const [select_1, setSelect_1] = useState([]);\r\n  const [select_2, setSelect_2] = useState([]);\r\n  // const [select_3, setSelect_3] = useState([]);\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">搜尋項目</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={select_1}\r\n          onChange={(e) => {\r\n            setSelect_1(e.target.value);\r\n            let next_searchConditions = { ...searchConditions };\r\n            option_list1.map((option) => {\r\n              if (e.target.value.indexOf(option) > -1) {\r\n                next_searchConditions[option] = true;\r\n              } else {\r\n                next_searchConditions[option] = false;\r\n              }\r\n            });\r\n            setSearchConditions(next_searchConditions);\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">None</MenuItem>\r\n          {option_list1.map((option) => (\r\n            <MenuItem value={option} key={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"課名\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            課名: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <TextField\r\n        className={classes.searchInput}\r\n        id=\"standard-search\"\r\n        label=\"教師名稱\"\r\n        type=\"search\"\r\n        onChange={(e) =>\r\n          setSearchConditions({\r\n            ...searchConditions,\r\n            教師名稱: e.target.value,\r\n          })\r\n        }\r\n      />\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">加選方式</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_2}\r\n          onChange={(e) => {\r\n            setSelect_2(e.target.value);\r\n            let booleanOptions = [false, false, false];\r\n            e.target.value.map((option) => {\r\n              let index = option_list2.indexOf(option);\r\n              if (index > -1) {\r\n                booleanOptions[index] = true;\r\n              }\r\n            });\r\n            setSearchConditions({\r\n              ...searchConditions,\r\n              加選方式: booleanOptions,\r\n            });\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.sort().join(\", \")}\r\n        >\r\n          {option_list2.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_2.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      {/* <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"mutiple-checkbox-label\">其他選項</InputLabel>\r\n        <Select\r\n          labelId=\"mutiple-checkbox-label\"\r\n          id=\"mutiple-checkbox\"\r\n          multiple\r\n          value={select_3}\r\n          onChange={(e) => {\r\n            setSelect_3(e.target.value);\r\n          }}\r\n          input={<Input />}\r\n          renderValue={(selected) => selected.join(\", \")}\r\n        >\r\n          {option_list3.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={select_3.indexOf(option) > -1}\r\n              />\r\n              <ListItemText primary={option} />\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl> */}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default OtherSearch;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport DepartmentSearch from \"../components/SearchTab/DepartmentSearch\";\r\nimport AllSearch from \"../components/SearchTab/AllSearch\";\r\nimport GeneralSearch from \"../components/SearchTab/GeneralSearch\";\r\nimport CommonSearch from \"../components/SearchTab/CommonSearch\";\r\nimport OtherSearch from \"../components/SearchTab/OtherSearch\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`tabpanel-${index}`}\r\n      {...other}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nexport default function SearchTabs(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    props.resetSearchConditions();\r\n  };\r\n\r\n  const handleChangeIndex = (index) => {\r\n    setValue(index);\r\n  };\r\n\r\n  // all tabs object\r\n  const tabList = [\r\n    {\r\n      全部查詢: (\r\n        <AllSearch\r\n          searchConditions={props.searchConditions}\r\n          setSearchConditions={props.setSearchConditions}\r\n          // search={props.search}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      院系所課程: (\r\n        <DepartmentSearch\r\n          searchConditions={props.searchConditions}\r\n          setSearchConditions={props.setSearchConditions}\r\n          // search={props.search}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      通識課程: (\r\n        <GeneralSearch\r\n          searchConditions={props.searchConditions}\r\n          setSearchConditions={props.setSearchConditions}\r\n          // search={props.search}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      共同必修: (\r\n        <CommonSearch\r\n          searchConditions={props.searchConditions}\r\n          setSearchConditions={props.setSearchConditions}\r\n          // search={props.search}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      其他全校性課程: (\r\n        <OtherSearch\r\n          searchConditions={props.searchConditions}\r\n          setSearchConditions={props.setSearchConditions}\r\n          // search={props.search}\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs value={value} onChange={handleChange} indicatorColor=\"primary\">\r\n          {tabList.map((item) => {\r\n            return <Tab label={Object.keys(item)[0]} />;\r\n          })}\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        {tabList.map((item, index) => {\r\n          return (\r\n            <TabPanel value={value} index={index} dir={theme.direction}>\r\n              {Object.values(item)[0]}\r\n            </TabPanel>\r\n          );\r\n        })}\r\n      </SwipeableViews>\r\n    </div>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport { TableContainer as MUITableContainer } from \"@material-ui/core\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { updateUser } from \"../../axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n  info: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n  tablecell_top: {\r\n    padding: \"8px 4px 8px 4px\",\r\n    fontSize: \"12pt\",\r\n  },\r\n  tablecell: {\r\n    padding: \"6px 2px 6px 2px\",\r\n    fontSize: \"6pt\",\r\n  },\r\n  btn: {\r\n    fontSize: \"8pt\",\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nfunction Row(props) {\r\n  const { row, myCourse, setMyCourse, list2Table, setList2Table, user } = props;\r\n  const deleteIndex = list2Table.findIndex((x) => x._id === row._id);\r\n  const added = deleteIndex === -1 ? false : true;\r\n  const classes = useStyles();\r\n\r\n  const handleAddBtn = () => {\r\n    if (added) {\r\n      let next_list2Table = [...list2Table];\r\n      next_list2Table.splice(deleteIndex, 1);\r\n      setList2Table(next_list2Table);\r\n    } else {\r\n      let next_list2Table = [...list2Table];\r\n      next_list2Table.push(row);\r\n      setList2Table(next_list2Table);\r\n    }\r\n  };\r\n\r\n  const numToCh = {\r\n    1: \"一\",\r\n    2: \"二\",\r\n    3: \"三\",\r\n    4: \"四\",\r\n    5: \"五\",\r\n  };\r\n  let timeClassroom = \"\";\r\n  let validDayCount = 0;\r\n  for (let i = 1; i <= 5; i++) {\r\n    if (row[\"day\" + String(i)]) {\r\n      validDayCount++;\r\n    }\r\n  }\r\n  let classroom = \"\";\r\n  for (let i = 0; i < row.classroom.length / validDayCount; i++) {\r\n    classroom += row.classroom[i];\r\n  }\r\n  for (let i = 1; i <= 5; i++) {\r\n    // console.log(row[\"day1\"]);\r\n    // console.log(row[\"day\" + \"1\"]);\r\n    if (row[\"day\" + String(i)]) {\r\n      timeClassroom += numToCh[i];\r\n      timeClassroom += row[\"time\" + String(i)];\r\n      timeClassroom += \"(\" + classroom + \")\";\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    let deleteIndex = myCourse.findIndex((x) => x._id === id);\r\n    let next_courses = [...myCourse];\r\n    next_courses.splice(deleteIndex, 1);\r\n    // console.log(user);\r\n    if (user) {\r\n      await updateUser(user.id, JSON.stringify(next_courses));\r\n      // console.log(\"delete course\");\r\n    }\r\n    setMyCourse(next_courses);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.department}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.courseName}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {row.professor}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"right\">\r\n          {timeClassroom}\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"center\">\r\n          <IconButton\r\n            color={added ? \"primary\" : \"default\"}\r\n            aria-label=\"add\"\r\n            id={row._id}\r\n            className={classes.btn}\r\n            onClick={handleAddBtn}\r\n          >\r\n            <AddBoxIcon />\r\n          </IconButton>\r\n        </TableCell>\r\n        <TableCell className={classes.tablecell} align=\"center\">\r\n          <IconButton\r\n            aria-label=\"delete\"\r\n            id={row._id}\r\n            className={classes.btn}\r\n            disabled={added ? true : false}\r\n            onClick={() => {\r\n              handleDelete(row._id);\r\n            }}\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction CourseList(props) {\r\n  const { myCourse, setMyCourse, list2Table, setList2Table, user } = props;\r\n  const attributes = [\r\n    \"課號\",\r\n    \"授課對象\",\r\n    \"課名\",\r\n    \"教授\",\r\n    \"學分\",\r\n    \"時間教室\",\r\n    \"人數\",\r\n    \"備註\",\r\n    \"加入\",\r\n    \"刪除\",\r\n  ];\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <MUITableContainer component={Paper}>\r\n      <Table aria-label=\"collapsible table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            {/* <TableCell /> */}\r\n            {/* <TableCell align=\"left\">{attributes[0]}</TableCell> */}\r\n            <TableCell className={classes.tablecell_top} align=\"right\">\r\n              {attributes[1]}\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell_top} align=\"right\">\r\n              {attributes[2]}\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell_top} align=\"right\">\r\n              {attributes[3]}\r\n            </TableCell>\r\n            {/* <TableCell align=\"right\">{attributes[4]}</TableCell> */}\r\n            <TableCell className={classes.tablecell_top} align=\"right\">\r\n              {attributes[5]}\r\n            </TableCell>\r\n            {/* <TableCell align=\"right\">{attributes[6]}</TableCell> */}\r\n            {/* <TableCell align=\"right\">{attributes[7]}</TableCell> */}\r\n            <TableCell className={classes.tablecell_top} align=\"center\">\r\n              {attributes[8]}\r\n            </TableCell>\r\n            <TableCell className={classes.tablecell_top} align=\"center\">\r\n              {attributes[9]}\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {myCourse.map((course) => (\r\n            <Row\r\n              key={course.courseNum}\r\n              row={course}\r\n              myCourse={myCourse}\r\n              setMyCourse={setMyCourse}\r\n              list2Table={list2Table}\r\n              setList2Table={setList2Table}\r\n              user={user}\r\n            />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </MUITableContainer>\r\n  );\r\n}\r\n\r\nexport default CourseList;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { TableContainer as MUITableContainer } from \"@material-ui/core\";\r\n\r\nconst days = [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\r\nconst times = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, \"A\", \"B\", \"C\", \"D\"];\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    // \"& > *\": {\r\n    // width: \"90%\",\r\n    // margin: theme.spacing(1),\r\n    // },\r\n  },\r\n  tablecell: {\r\n    padding: \"4px\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: \"rgba(224, 224, 224, 1)\",\r\n  },\r\n  first_row: {\r\n    border: \"1px solid rgba(224, 224, 224, 1)\",\r\n    height: \"15px\",\r\n    textAlign: \"center\",\r\n  },\r\n  first_col: {\r\n    border: \"1px solid rgba(224, 224, 224, 1)\",\r\n    width: \"30px\",\r\n    textAlign: \"center\",\r\n  },\r\n  btn: {\r\n    margin: 2,\r\n    paddingTop: 1,\r\n    paddingBottom: 1,\r\n    paddingLeft: 4,\r\n    paddingRight: 4,\r\n    fontSize: \"6pt\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nfunction MyTableCell(props) {\r\n  const { day, time, courseBlock } = props;\r\n  const classes = useStyles();\r\n\r\n  const courses = courseBlock[day][time];\r\n\r\n  return (\r\n    <TableCell className={classes.tablecell}>\r\n      {courses.map((course) => {\r\n        return (\r\n          <Button style={{ background: course.color }} className={classes.btn}>\r\n            {course.courseName}[{course.professor}]\r\n          </Button>\r\n        );\r\n      })}\r\n    </TableCell>\r\n  );\r\n}\r\n\r\nfunction CourseTable(props) {\r\n  const { list2Table, setList2Table } = props;\r\n  const classes = useStyles();\r\n\r\n  var courseBlock = {\r\n    一: {\r\n      0: [],\r\n      1: [],\r\n      2: [],\r\n      3: [],\r\n      4: [],\r\n      5: [],\r\n      6: [],\r\n      7: [],\r\n      8: [],\r\n      9: [],\r\n      10: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n    },\r\n    二: {\r\n      0: [],\r\n      1: [],\r\n      2: [],\r\n      3: [],\r\n      4: [],\r\n      5: [],\r\n      6: [],\r\n      7: [],\r\n      8: [],\r\n      9: [],\r\n      10: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n    },\r\n    三: {\r\n      0: [],\r\n      1: [],\r\n      2: [],\r\n      3: [],\r\n      4: [],\r\n      5: [],\r\n      6: [],\r\n      7: [],\r\n      8: [],\r\n      9: [],\r\n      10: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n    },\r\n    四: {\r\n      0: [],\r\n      1: [],\r\n      2: [],\r\n      3: [],\r\n      4: [],\r\n      5: [],\r\n      6: [],\r\n      7: [],\r\n      8: [],\r\n      9: [],\r\n      10: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n    },\r\n    五: {\r\n      0: [],\r\n      1: [],\r\n      2: [],\r\n      3: [],\r\n      4: [],\r\n      5: [],\r\n      6: [],\r\n      7: [],\r\n      8: [],\r\n      9: [],\r\n      10: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n    },\r\n    六: {\r\n      0: [],\r\n      1: [],\r\n      2: [],\r\n      3: [],\r\n      4: [],\r\n      5: [],\r\n      6: [],\r\n      7: [],\r\n      8: [],\r\n      9: [],\r\n      10: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n    },\r\n  };\r\n\r\n  list2Table.map((course) => {\r\n    const randColor =\r\n      \"rgba(\" +\r\n      Math.floor(Math.random() * 256).toString() +\r\n      \",\" +\r\n      Math.floor(Math.random() * 256).toString() +\r\n      \",\" +\r\n      Math.floor(Math.random() * 256).toString() +\r\n      \", 0.3)\";\r\n    if (!(\"color\" in course)) {\r\n      course.color = randColor;\r\n    }\r\n\r\n    if (course.day1 === true) {\r\n      let times = course.time1.split(\",\");\r\n      console.log(\"一\", times);\r\n      times.map((t) => {\r\n        courseBlock[\"一\"][t].push(course);\r\n      });\r\n    }\r\n    if (course.day2 === true) {\r\n      let times = course.time2.split(\",\");\r\n      console.log(\"二\", times);\r\n      times.map((t) => {\r\n        courseBlock[\"二\"][t].push(course);\r\n      });\r\n    }\r\n    if (course.day3 === true) {\r\n      let times = course.time3.split(\",\");\r\n      console.log(\"三\", times);\r\n      times.map((t) => {\r\n        courseBlock[\"三\"][t].push(course);\r\n      });\r\n    }\r\n    if (course.day4 === true) {\r\n      let times = course.time4.split(\",\");\r\n      console.log(\"四\", times);\r\n      times.map((t) => {\r\n        courseBlock[\"四\"][t].push(course);\r\n      });\r\n    }\r\n    if (course.day5 === true) {\r\n      let times = course.time5.split(\",\");\r\n      console.log(\"五\", times);\r\n      times.map((t) => {\r\n        courseBlock[\"五\"][t].push(course);\r\n      });\r\n    }\r\n    if (course.day6 === true) {\r\n      let times = course.time6.split(\",\");\r\n      console.log(\"六\", times);\r\n      times.map((t) => {\r\n        courseBlock[\"六\"][t].push(course);\r\n      });\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <MUITableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell className={classes.first_row}></TableCell>\r\n              {days.map((x) => {\r\n                return (\r\n                  <TableCell\r\n                    className={classes.first_row}\r\n                    style={{ width: \"16%\" }}\r\n                  >\r\n                    {x}\r\n                  </TableCell>\r\n                );\r\n              })}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {times.map((t) => {\r\n              return (\r\n                <TableRow>\r\n                  <TableCell className={classes.first_col}>{t}</TableCell>\r\n                  {days.map((d) => {\r\n                    return (\r\n                      <MyTableCell courseBlock={courseBlock} day={d} time={t} />\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </MUITableContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CourseTable;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CourseList from \"../components/MyCoursePage/CourseList\";\r\nimport CourseTable from \"../components/MyCoursePage/CourseTable\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  col_2_block: {\r\n    display: \"flex\",\r\n  },\r\n  col_left: {\r\n    marginRight: theme.spacing(1),\r\n    width: \"40%\",\r\n    overflow: \"overflow-y\",\r\n  },\r\n  col_right: {\r\n    marginLeft: theme.spacing(1),\r\n    width: \"60%\",\r\n    overflow: \"overflow-y\",\r\n  },\r\n}));\r\n\r\nexport default function MyCoursePage(props) {\r\n  const { myCourse, setMyCourse, user } = props;\r\n  const classes = useStyles();\r\n  const [list2Table, setList2Table] = useState([]);\r\n\r\n  return (\r\n    <div className={classes.col_2_block}>\r\n      <Container className={classes.col_left} overflow=\"auto\">\r\n        <CourseList\r\n          myCourse={myCourse}\r\n          setMyCourse={setMyCourse}\r\n          list2Table={list2Table}\r\n          setList2Table={setList2Table}\r\n          user={user}\r\n        />\r\n      </Container>\r\n      <Container className={classes.col_right} overflow=\"auto\">\r\n        <CourseTable list2Table={list2Table} setList2Table={setList2Table} />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { set } from \"mongoose\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      width: \"80px\",\r\n      margin: \"0px 1px 0px 0px\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction TimeTable(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const classes = useStyles();\r\n  // const timeFilter = props.timeFilter;\r\n  // const setTimeFilter = props.setTimeFilter;\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [startIndex, setStartIndex] = useState(false);\r\n  const [finishIndex, setFinishIndex] = useState(false);\r\n  const times = [];\r\n  for (let i = 0; i < 6; i++) {\r\n    times.push([]);\r\n    for (let j = 0; j < 15; j++) {\r\n      times[i].push(false);\r\n    }\r\n  }\r\n  const [tempTimeFilter, setTempTimeFilter] = useState(times);\r\n  const btn_text = [\r\n    \"0\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"10\",\r\n    \"A\",\r\n    \"B\",\r\n    \"C\",\r\n    \"D\",\r\n  ];\r\n  const days = [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\r\n\r\n  const handleSelect = (day, time) => {\r\n    let next_searchConditions = { ...searchConditions };\r\n    let next_day = { ...searchConditions[\"時間\"][day] };\r\n    if (next_day[time] === true) {\r\n      next_day[time] = false;\r\n    } else {\r\n      next_day[time] = true;\r\n    }\r\n    next_searchConditions[\"時間\"][day] = next_day;\r\n    setSearchConditions(next_searchConditions);\r\n    setStartIndex(false);\r\n    setMouseDown(false);\r\n    setFinishIndex(false);\r\n  };\r\n\r\n  const handleSelectAll = (day) => {\r\n    let next_searchConditions = { ...searchConditions };\r\n    if (searchConditions[\"時間\"][day].findIndex((x) => x === false) == -1) {\r\n      next_searchConditions[\"時間\"][day] = searchConditions[\"時間\"][day].map(\r\n        (x) => false\r\n      );\r\n    } else {\r\n      next_searchConditions[\"時間\"][day] = searchConditions[\"時間\"][day].map(\r\n        (x) => true\r\n      );\r\n    }\r\n    setSearchConditions(next_searchConditions);\r\n    setStartIndex(false);\r\n    setMouseDown(false);\r\n    setFinishIndex(false);\r\n  };\r\n\r\n  const btn_style = (day, time) => {\r\n    return {\r\n      background:\r\n        searchConditions[\"時間\"][day][time] || tempTimeFilter[day][time]\r\n          ? \"rgb(153, 221, 255)\"\r\n          : \"gray\",\r\n    };\r\n  };\r\n\r\n  const handleMouseDown = (day, time) => {\r\n    setMouseDown(true);\r\n    setStartIndex([day, time]);\r\n  };\r\n\r\n  const handleMouseOver = (day, time) => {\r\n    if (mouseDown !== false) {\r\n      let next_timeFilter = [];\r\n      let min_day;\r\n      let max_day;\r\n      if (startIndex[0] < day) {\r\n        min_day = startIndex[0];\r\n        max_day = day;\r\n      } else {\r\n        min_day = day;\r\n        max_day = startIndex[0];\r\n      }\r\n      let min_time;\r\n      let max_time;\r\n      if (startIndex[1] < time) {\r\n        min_time = startIndex[1];\r\n        max_time = time;\r\n      } else {\r\n        min_time = time;\r\n        max_time = startIndex[1];\r\n      }\r\n      for (let i = 0; i < 6; i++) {\r\n        next_timeFilter.push([]);\r\n        for (let j = 0; j < 15; j++) {\r\n          if (i >= min_day && i <= max_day && j >= min_time && j <= max_time) {\r\n            next_timeFilter[i].push(true);\r\n          } else {\r\n            next_timeFilter[i].push(searchConditions[\"時間\"][i][j]);\r\n          }\r\n        }\r\n      }\r\n      setFinishIndex([day, time]);\r\n      setTempTimeFilter(next_timeFilter);\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    if (startIndex && finishIndex) {\r\n      let next_timeFilter = [];\r\n      let min_day;\r\n      let max_day;\r\n      if (startIndex[0] < finishIndex[0]) {\r\n        min_day = startIndex[0];\r\n        max_day = finishIndex[0];\r\n      } else {\r\n        min_day = finishIndex[0];\r\n        max_day = startIndex[0];\r\n      }\r\n      let min_time;\r\n      let max_time;\r\n      if (startIndex[1] < finishIndex[1]) {\r\n        min_time = startIndex[1];\r\n        max_time = finishIndex[1];\r\n      } else {\r\n        min_time = finishIndex[1];\r\n        max_time = startIndex[1];\r\n      }\r\n      for (let i = 0; i < 6; i++) {\r\n        next_timeFilter.push([]);\r\n        for (let j = 0; j < 15; j++) {\r\n          if (i >= min_day && i <= max_day && j >= min_time && j <= max_time) {\r\n            next_timeFilter[i].push(true);\r\n          } else {\r\n            next_timeFilter[i].push(searchConditions[\"時間\"][i][j]);\r\n          }\r\n        }\r\n      }\r\n      setSearchConditions({ ...searchConditions, 時間: next_timeFilter });\r\n      // setStartIndex(false);\r\n      // setMouseDown(false);\r\n      setTempTimeFilter(times);\r\n      // setFinishIndex(false);\r\n    }\r\n    setStartIndex(false);\r\n    setMouseDown(false);\r\n    setFinishIndex(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} onMouseUp={handleMouseUp}>\r\n      {days.map((day, dayIndex) => {\r\n        return (\r\n          <ButtonGroup\r\n            orientation=\"vertical\"\r\n            aria-label=\"vertical contained primary button group\"\r\n            variant=\"contained\"\r\n          >\r\n            <Button onClick={() => handleSelectAll(dayIndex)}>{day}</Button>\r\n            {btn_text.map((text, index) => {\r\n              return (\r\n                <Button\r\n                  style={btn_style(dayIndex, index)}\r\n                  onClick={() => handleSelect(dayIndex, index)}\r\n                  onMouseDown={() => {\r\n                    handleMouseDown(dayIndex, index);\r\n                  }}\r\n                  onMouseOver={() => {\r\n                    handleMouseOver(dayIndex, index);\r\n                  }}\r\n                >\r\n                  {text}\r\n                </Button>\r\n              );\r\n            })}\r\n          </ButtonGroup>\r\n        );\r\n      })}\r\n\r\n      {/* <ButtonGroup\r\n        orientation=\"vertical\"\r\n        aria-label=\"vertical contained primary button group\"\r\n        variant=\"contained\"\r\n      >\r\n        <Button onClick={() => handleSelectAll(1)}>二</Button>\r\n        {btn_text.map((text, index) => {\r\n          return (\r\n            <Button\r\n              style={btn_style(1, index)}\r\n              onClick={() => handleSelect(1, index)}\r\n            >\r\n              {text}\r\n            </Button>\r\n          );\r\n        })}\r\n      </ButtonGroup>\r\n      <ButtonGroup\r\n        orientation=\"vertical\"\r\n        aria-label=\"vertical contained primary button group\"\r\n        variant=\"contained\"\r\n      >\r\n        <Button onClick={() => handleSelectAll(2)}>三</Button>\r\n        {btn_text.map((text, index) => {\r\n          return (\r\n            <Button\r\n              style={btn_style(2, index)}\r\n              onClick={() => handleSelect(2, index)}\r\n            >\r\n              {text}\r\n            </Button>\r\n          );\r\n        })}\r\n      </ButtonGroup>\r\n      <ButtonGroup\r\n        orientation=\"vertical\"\r\n        aria-label=\"vertical contained primary button group\"\r\n        variant=\"contained\"\r\n      >\r\n        <Button onClick={() => handleSelectAll(3)}>四</Button>\r\n        {btn_text.map((text, index) => {\r\n          return (\r\n            <Button\r\n              style={btn_style(3, index)}\r\n              onClick={() => handleSelect(3, index)}\r\n            >\r\n              {text}\r\n            </Button>\r\n          );\r\n        })}\r\n      </ButtonGroup>\r\n      <ButtonGroup\r\n        orientation=\"vertical\"\r\n        aria-label=\"vertical contained primary button group\"\r\n        variant=\"contained\"\r\n      >\r\n        <Button onClick={() => handleSelectAll(4)}>五</Button>\r\n        {btn_text.map((text, index) => {\r\n          return (\r\n            <Button\r\n              style={btn_style(4, index)}\r\n              onClick={() => handleSelect(4, index)}\r\n            >\r\n              {text}\r\n            </Button>\r\n          );\r\n        })}\r\n      </ButtonGroup>\r\n      <ButtonGroup\r\n        orientation=\"vertical\"\r\n        aria-label=\"vertical contained primary button group\"\r\n        variant=\"contained\"\r\n      >\r\n        <Button onClick={() => handleSelectAll(5)}>六</Button>\r\n        {btn_text.map((text, index) => {\r\n          return (\r\n            <Button\r\n              style={btn_style(5, index)}\r\n              onClick={() => handleSelect(5, index)}\r\n            >\r\n              {text}\r\n            </Button>\r\n          );\r\n        })}\r\n      </ButtonGroup>*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TimeTable;\r\n","/** @format */\r\n\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CalendarTodayIcon from \"@material-ui/icons/CalendarToday\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport TimeTable from \"./TimeTable\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  select_btn: {\r\n    width: \"100%\",\r\n    margin: 0,\r\n  },\r\n  modal_btn_container: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n  modal_btn: {\r\n    width: \"50px\",\r\n    margin: 10,\r\n  },\r\n}));\r\n\r\nfunction TimeSelect(props) {\r\n  const { searchConditions, setSearchConditions } = props;\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const resetTime = () => {\r\n    const times = [];\r\n    let day = [];\r\n    for (let i = 0; i < 15; i++) {\r\n      day.push(false);\r\n    }\r\n    for (let i = 0; i < 6; i++) {\r\n      times.push(day);\r\n    }\r\n    setSearchConditions({ ...searchConditions, 時間: times });\r\n    // props.setTimeFilter(times);\r\n  };\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      {/* <button type=\"button\" onClick={handleOpen}>\r\n        react-transition-group\r\n      </button> */}\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.select_btn}\r\n        startIcon={<CalendarTodayIcon />}\r\n        onClick={handleOpen}\r\n      >\r\n        選擇時間\r\n      </Button>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            {/* <div className={classes.cancel_btn_container}>\r\n              <IconButton>\r\n                <CancelIcon />\r\n              </IconButton>\r\n            </div> */}\r\n            <TimeTable\r\n              timeFilter={props.timeFilter}\r\n              setTimeFilter={props.setTimeFilter}\r\n              searchConditions={searchConditions}\r\n              setSearchConditions={setSearchConditions}\r\n            />\r\n            <div className={classes.modal_btn_container}>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.modal_btn}\r\n                onClick={handleClose}\r\n              >\r\n                確認\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.modal_btn}\r\n                onClick={resetTime}\r\n              >\r\n                清除\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TimeSelect;\r\n","/** @format */\r\n\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  search_btn: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nfunction SearchButton(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.search_btn}\r\n        startIcon={<SearchIcon />}\r\n        onClick={() => {\r\n          props.search();\r\n        }}\r\n      >\r\n        查詢\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchButton;\r\n","/** @format */\r\n\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport WhatshotIcon from \"@material-ui/icons/Whatshot\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  select_btn: {\r\n    width: \"100%\",\r\n    margin: 0,\r\n  },\r\n  modal_btn_container: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n  modal_btn: {\r\n    width: \"50px\",\r\n    margin: 10,\r\n  },\r\n  slider_container: {\r\n    width: 300,\r\n    margin: 10,\r\n  },\r\n}));\r\n\r\nconst marks = [\r\n  {\r\n    value: 0,\r\n    label: \"0\",\r\n  },\r\n  {\r\n    value: 100,\r\n    label: \"100\",\r\n  },\r\n  {\r\n    value: 200,\r\n    label: \"200\",\r\n  },\r\n  {\r\n    value: 300,\r\n    label: \"300\",\r\n  },\r\n  {\r\n    value: 400,\r\n    label: \"400\",\r\n  },\r\n  {\r\n    value: 500,\r\n    label: \"500以上\",\r\n  },\r\n];\r\n\r\nfunction valuetext(value) {\r\n  return `${value}人`;\r\n}\r\n\r\nfunction PopularitySelect(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.select_btn}\r\n        startIcon={<WhatshotIcon />}\r\n        onClick={handleOpen}\r\n      >\r\n        熱度\r\n      </Button>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <div className={classes.slider_container}>\r\n              <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n                初選人數\r\n              </Typography>\r\n              <Slider\r\n                defaultValue={0}\r\n                getAriaValueText={valuetext}\r\n                aria-labelledby=\"discrete-slider-custom\"\r\n                step={100}\r\n                valueLabelDisplay=\"auto\"\r\n                marks={marks}\r\n                min={0}\r\n                max={500}\r\n              />\r\n            </div>\r\n\r\n            {/* <div className={classes.slider_container}>\r\n              <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n                討論熱度\r\n              </Typography>\r\n              <Slider\r\n                defaultValue={0}\r\n                getAriaValueText={valuetext}\r\n                aria-labelledby=\"discrete-slider-custom\"\r\n                step={100}\r\n                valueLabelDisplay=\"auto\"\r\n                marks={marks}\r\n                min={0}\r\n                max={500}\r\n              />\r\n            </div> */}\r\n\r\n            <div className={classes.modal_btn_container}>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.modal_btn}\r\n                onClick={handleClose}\r\n              >\r\n                確認\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopularitySelect;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport LabelIcon from \"@material-ui/icons/Label\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  auto_complete: {\r\n    width: 500,\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  select_btn: {\r\n    width: \"100%\",\r\n    margin: 0,\r\n  },\r\n  modal_btn_container: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n  modal_btn: {\r\n    width: \"50px\",\r\n    margin: 10,\r\n  },\r\n}));\r\n\r\nfunction TagSelect(props) {\r\n  const { allTags, selectTag, setSelectTag, findTags } = props;\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    findTags();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.select_btn}\r\n        startIcon={<LabelIcon />}\r\n        onClick={handleOpen}\r\n      >\r\n        標籤\r\n      </Button>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              輸入想搜尋的標籤\r\n            </Typography>\r\n            <div className={classes.auto_complete}>\r\n              <Autocomplete\r\n                multiple\r\n                value={selectTag}\r\n                id=\"tags-outlined\"\r\n                options={allTags}\r\n                getOptionLabel={(option) => option.title}\r\n                filterSelectedOptions\r\n                onChange={(event, value) => {\r\n                  setSelectTag(value);\r\n                }}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    variant=\"outlined\"\r\n                    placeholder=\"Favorites\"\r\n                  />\r\n                )}\r\n              />\r\n            </div>\r\n            <div className={classes.modal_btn_container}>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.modal_btn}\r\n                onClick={handleClose}\r\n              >\r\n                確認\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TagSelect;\r\n","/** @format */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport TimeSelect from \"./TimeSelect\";\r\nimport SearchButton from \"./SearchButton\";\r\nimport PopularitySelect from \"./PopularitySelect\";\r\nimport TagSelect from \"./TagSelect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  btn_row: {\r\n    display: \"flex\",\r\n    background: \"white\",\r\n    \"& .MuiTextField-root\": {\r\n      minWidth: 120,\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    \"& .MuiFormControlLabel-root\": {\r\n      height: 50,\r\n      margin: theme.spacing(2),\r\n    },\r\n    // marginBottom: theme.spacing(1),\r\n  },\r\n  time_select: {\r\n    width: \"60%\",\r\n    margin: theme.spacing(2, 1, 2, 2),\r\n  },\r\n  btn: {\r\n    margin: theme.spacing(2, 1, 2, 1),\r\n    minWidth: \"85px\",\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(2),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n}));\r\n\r\nconst semesterList = [\"109-2\", \"109-1\", \"108-2\", \"108-1\", \"107-2\", \"107-1\"];\r\n\r\nexport default function SearchBar(props) {\r\n  const classes = useStyles();\r\n  // const [semester, setSemester] = useState(props.searchConditions[\"semester\"]);\r\n\r\n  return (\r\n    <div className={classes.btn_row}>\r\n      <TimeSelect\r\n        className={classes.time_select}\r\n        searchConditions={props.searchConditions}\r\n        setSearchConditions={props.setSearchConditions}\r\n      />\r\n      <SearchButton className={classes.btn} search={props.search} />\r\n      <PopularitySelect className={classes.btn} />\r\n      <TagSelect\r\n        className={classes.btn}\r\n        allTags={props.allTags}\r\n        findTags={props.findTags}\r\n        selectTag={props.selectTag}\r\n        setSelectTag={props.setSelectTag}\r\n      />\r\n      <FormControl className={classes.formControl}>\r\n        {/* <InputLabel id=\"demo-simple-select-label\"></InputLabel> */}\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={props.searchConditions[\"semester\"]}\r\n          onChange={(e) => {\r\n            // setSemester(e.target.value);\r\n            // let newSearchConditions = props.searchConditions;\r\n            // newSearchConditions[\"semester\"] = e.target.value;\r\n            props.setSearchConditions({\r\n              ...props.searchConditions,\r\n              semester: e.target.value,\r\n            });\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">學期</MenuItem>\r\n          {semesterList.map((sem) => (\r\n            <MenuItem value={sem} key={sem}>\r\n              {sem}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport MyAppBar from \"./MyAppBar.js\";\r\nimport SearchCourseTable from \"./SearchCourseTable.js\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport SearchTab from \"./SearchTab\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\r\nimport MyCoursePage from \"./MyCoursePage\";\r\n// import { COURSES_QUERY } from \"../graphql\";\r\n// import { useQuery, useMutation } from \"@apollo/client\";\r\nimport { findCourse, findTag } from \"../axios\";\r\nimport SearchBar from \"../components/SearchBar/SearchBar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\r\nimport { checkUser } from \"../axios.js\";\r\nimport sha256 from \"../Mysha256.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n    paddingLeft: theme.spacing(4),\r\n    paddingRight: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(16),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(16),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction PagePanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"pagepanel\"\r\n      hidden={value !== index}\r\n      id={`pagepanel-${index}`}\r\n      {...other}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nPagePanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nconst times = [];\r\nlet day = [];\r\nfor (let i = 0; i < 15; i++) {\r\n  day.push(true);\r\n}\r\nfor (let i = 0; i < 6; i++) {\r\n  times.push(day);\r\n}\r\n\r\nconst searchConditionsInit = {\r\n  時間: times,\r\n  流水號: \"\",\r\n  課號: \"\",\r\n  課程識別碼: \"\",\r\n  教室: \"\",\r\n  課名: \"\",\r\n  教師名稱: \"\",\r\n  加選方式: [true, true, true],\r\n  體育: false,\r\n  國英外文: false,\r\n  跨校課程: false,\r\n  學程: false,\r\n  大學部: false,\r\n  研究所: false,\r\n  其他全校性課程: false,\r\n  學院: \"\",\r\n  系所: \"\",\r\n  組別: \"\",\r\n  年級: [true, true, true, true],\r\n  必修: true,\r\n  選修: true,\r\n  服學: false,\r\n  通識領域: [false, false, false, false, false, false, false, false],\r\n  含小組討論: true,\r\n  國文: false,\r\n  英文: false,\r\n  外文: false,\r\n  進階英文: false,\r\n  軍訓: false,\r\n  共同選修: false,\r\n  新生專題: false,\r\n  寫作教學: false,\r\n  基本能力課程: false,\r\n  semester: \"109-2\",\r\n};\r\n\r\nconst btn_text = [\r\n  \"0\",\r\n  \"1\",\r\n  \"2\",\r\n  \"3\",\r\n  \"4\",\r\n  \"5\",\r\n  \"6\",\r\n  \"7\",\r\n  \"8\",\r\n  \"9\",\r\n  \"10\",\r\n  \"A\",\r\n  \"B\",\r\n  \"C\",\r\n  \"D\",\r\n];\r\n\r\nfunction Main(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(true); // sidebar\r\n  const [pageIndex, setPageIndex] = useState(0); // page transistion\r\n  const [conditions, setConditions] = useState([\"\", \"\", \"\"]); // department conditions\r\n  const [courses, setCourses] = useState([]); //courses result\r\n  const [id, setId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [correct, setCorrect] = useState(true);\r\n  // const { refetch, loading, error, data } = useQuery(COURSES_QUERY);\r\n  const [searchConditions, setSearchConditions] = useState(\r\n    searchConditionsInit\r\n  );\r\n\r\n  // TODO: fetch all tags from DB\r\n  const [allTags, setAllTags] = useState([]);\r\n  // TODO: include selectTag to search conditions\r\n  const [selectTag, setSelectTag] = useState([]);\r\n\r\n  const resetSearchConditions = () => {\r\n    setSearchConditions(searchConditionsInit);\r\n    // console.log(\"reset search conditions\");\r\n  };\r\n\r\n  const findCourses = async () => {\r\n    console.log(searchConditions);\r\n    let condition = searchConditions;\r\n    let filter = {};\r\n    const commonRequired = [];\r\n    const compulsoryRequired = [];\r\n    const otherCourse = [];\r\n    console.log(selectTag);\r\n    for (let i = 0; i < Object.keys(condition).length; i++) {\r\n      let key = Object.keys(condition)[i];\r\n      if (key === \"時間\") {\r\n        for (let i = 0; i < 6; i++) {\r\n          filter[`time${i + 1}`] = \"\";\r\n          for (let j = 0; j < condition[key][i].length; j++) {\r\n            if (!condition[key][i][j]) {\r\n              filter[`time${i + 1}`] += btn_text[j];\r\n            }\r\n          }\r\n          if (filter[`time${i + 1}`] === \"\") {\r\n            delete filter[`time${i + 1}`];\r\n          } else {\r\n            filter[`time${i + 1}`] = \"[\" + filter[`time${i + 1}`] + \"]+\";\r\n          }\r\n        }\r\n      } else if (key === \"流水號\") {\r\n        filter[\"serialNumber\"] = condition[key];\r\n      } else if (key === \"課號\") {\r\n        filter[\"courseCode\"] = condition[key];\r\n      } else if (key === \"課程識別碼\") {\r\n        filter[\"id\"] = condition[key];\r\n      } else if (key === \"教室\") {\r\n        filter[\"classroom\"] = condition[key];\r\n      } else if (key === \"課名\") {\r\n        filter[\"courseName\"] = condition[key];\r\n      } else if (key === \"教師名稱\") {\r\n        filter[\"professor\"] = condition[key];\r\n      } else if (key === \"加選方式\") {\r\n        filter[\"add\"] = \"\";\r\n        for (let i = 0; i < condition[key].length; i++) {\r\n          if (condition[key][i] === false) {\r\n            filter[\"add\"] += String(i + 1);\r\n          }\r\n        }\r\n      } else if (key === \"體育\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \".*[健康體適能|選修體育|專項運動|校隊].*\";\r\n      } else if (key === \"國英外文\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \".*[國文|英文|外文]+.*\";\r\n      } else if (key === \"跨校課程\" && condition[key]) {\r\n        filter[\"college\"] = \"三校聯盟\";\r\n      } else if (key === \"學程\" && condition[key]) {\r\n      } else if (key === \"大學部\" && condition[key]) {\r\n        filter[\"department\"] = \".*系\";\r\n      } else if (key === \"研究所\" && condition[key]) {\r\n        filter[\"department\"] = \".*所\";\r\n      } else if (key === \"其他學校性課程\" && condition[key]) {\r\n        filter[\"otherCourse\"] = \".+\";\r\n      } else if (key === \"學院\") {\r\n        filter[\"college\"] = condition[key];\r\n      } else if (key === \"系所\") {\r\n        filter[\"department\"] = condition[key];\r\n      } else if (key === \"組別\") {\r\n        filter[\"group\"] = condition[key];\r\n      } else if (key === \"年級\") {\r\n      } else if (key === \"必修\" && condition[key]) {\r\n        filter[\"compulsoryRequired\"] = \"必修\";\r\n      } else if (key === \"選修\" && condition[key]) {\r\n        if (\"compulsoryRequired\" in filter) {\r\n          filter[\"compulsoryRequired\"] = \".*\";\r\n        } else {\r\n          filter[\"compulsoryRequired\"] = \"選修\";\r\n        }\r\n      } else if (key === \"服學\") {\r\n      } else if (key === \"通識領域\") {\r\n        filter[\"general\"] = \"\";\r\n        for (let i = 0; i < condition[key].length; i++) {\r\n          if (condition[key][i] === true) {\r\n            filter[\"general\"] += String(i + 1);\r\n          }\r\n        }\r\n        if (filter[\"general\"].length === 8) {\r\n          filter[\"general\"] = \".+\";\r\n        } else if (filter[\"general\"].length > 0) {\r\n          filter[\"general\"] = \"[\" + filter[\"general\"] + \"]+\";\r\n        }\r\n      } else if (key === \"國文\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \"國文\";\r\n      } else if (key === \"英文\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \"^英文\";\r\n      } else if (key === \"外文\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \".*外文.*\";\r\n      } else if (key === \"進階英文\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \"進階英文\";\r\n      } else if (key === \"軍訓\" && condition[key]) {\r\n        filter[\"otherCourse\"] = \"軍訓\";\r\n      } else if (key === \"共同選修\" && condition[key]) {\r\n        filter[\"commonRequired\"] = \"共同選修\";\r\n      } else if (key === \"新生專題\" && condition[key]) {\r\n        filter[\"otherCourse\"] = \"新生專題\";\r\n      } else if (key === \"寫作教學\" && condition[key]) {\r\n        filter[\"otherCourse\"] = \"寫作教學\";\r\n      } else if (key === \"基本能力課程\" && condition[key]) {\r\n        filter[\"otherCourse\"] = \"基本能力\";\r\n      } else {\r\n        // console.log(key);\r\n        // alert(\"key not found\");\r\n      }\r\n    }\r\n    // filter[\"tags\"] = \"\";\r\n    let tags = [];\r\n    for (let i = 0; i < selectTag.length; i++) {\r\n      tags.push(selectTag[i].title);\r\n    }\r\n    if (selectTag.length > 0) {\r\n      filter[\"tags\"] = \"[\" + tags.join(\"|\") + \"]+\";\r\n    }\r\n\r\n    let data = await findCourse(filter);\r\n    setCourses(data);\r\n  };\r\n\r\n  const findTags = async () => {\r\n    let data = await findTag();\r\n    // let nextAllTags = [];\r\n    // for (let i = 0; i < data.length; i++) {\r\n    //   nextAllTags.push(data[i].title);\r\n    // }\r\n    setAllTags(data);\r\n  };\r\n  // useEffect(async () => {\r\n  //   if ()\r\n  //   await findTags();\r\n  // });\r\n  // useEffect(() => {\r\n  //   if (!loading) {\r\n  //     console.log(\"data: \", data);\r\n  //   }\r\n  //   // console.log(COURSES_QUERY);\r\n  //   if (data != undefined) {\r\n  //     setCourses(data);\r\n  //   }\r\n  //   console.log(\"error: \", error);\r\n  //   console.log(\"loading: \", loading);\r\n  //   // console.log(\"client: \", client);\r\n  // });\r\n\r\n  const handleSignIn = (e) => {\r\n    e.preventDefault();\r\n    checkUser(id, password).then((result) => {\r\n      if (result !== 0) {\r\n        setCorrect(true);\r\n        props.setUser(result);\r\n        props.setMyCourse(JSON.parse(result.courses));\r\n      } else {\r\n        setPassword(\"\");\r\n        setCorrect(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const pages = [\r\n    {\r\n      title: \"搜尋\",\r\n      content: (\r\n        <Container maxWidth=\"auto\" className={classes.container}>\r\n          <SearchTab\r\n            setConditions={setConditions}\r\n            conditions={conditions}\r\n            searchConditions={searchConditions}\r\n            setSearchConditions={setSearchConditions}\r\n            resetSearchConditions={resetSearchConditions}\r\n          />\r\n          <SearchBar\r\n            search={findCourses}\r\n            searchConditions={searchConditions}\r\n            setSearchConditions={setSearchConditions}\r\n            search={findCourses}\r\n            findTags={findTags}\r\n            allTags={allTags}\r\n            selectTag={selectTag}\r\n            setSelectTag={setSelectTag}\r\n          />\r\n          <SearchCourseTable\r\n            user={props.user}\r\n            courses={courses}\r\n            myCourse={props.myCourse}\r\n            setMyCourse={props.setMyCourse}\r\n            findTags={findTags}\r\n            allTags={allTags}\r\n            setAllTags={setAllTags}\r\n          />\r\n        </Container>\r\n      ),\r\n      icon: <SearchIcon />,\r\n    },\r\n    {\r\n      title: \"我的課表\",\r\n      content: (\r\n        <Container maxWidth=\"auto\" className={classes.container}>\r\n          <MyCoursePage\r\n            user={props.user}\r\n            myCourse={props.myCourse}\r\n            setMyCourse={props.setMyCourse}\r\n          />\r\n        </Container>\r\n      ),\r\n      icon: <ListAltIcon />,\r\n    },\r\n    // {\r\n    //   title: \"評論\",\r\n    //   content: commentId ? (\r\n    //     <Container maxWidth=\"auto\" className={classes.container}>\r\n    //       <CommentPage commentId={commentId} />\r\n    //     </Container>\r\n    //   ) : (\r\n    //     <Container maxWidth=\"auto\" className={classes.container}>\r\n    //       請點選課程搜尋結果的評論icon\r\n    //     </Container>\r\n    //   ),\r\n    //   icon: <ListAltIcon />,\r\n    // },\r\n  ];\r\n  let now_user = props.user;\r\n  console.log(now_user);\r\n  return (\r\n    <>\r\n      {now_user ? (\r\n        <div className={classes.root}>\r\n          <CssBaseline />\r\n          <MyAppBar\r\n            user={props.user}\r\n            setUser={props.setUser}\r\n            open={open}\r\n            setOpen={setOpen}\r\n          />\r\n          <Sidebar\r\n            pages={pages}\r\n            open={open}\r\n            pageIndex={pageIndex}\r\n            setPageIndex={setPageIndex}\r\n          />\r\n          <main className={classes.content}>\r\n            <div className={classes.appBarSpacer} />\r\n            <SwipeableViews\r\n              axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\r\n              index={pageIndex}\r\n              onChangeIndex={(e) => {\r\n                setPageIndex(e.target.index);\r\n              }}\r\n            >\r\n              {pages.map((page, index) => {\r\n                return (\r\n                  <PagePanel\r\n                    value={pageIndex}\r\n                    index={index}\r\n                    dir={theme.direction}\r\n                  >\r\n                    {page.content}\r\n                  </PagePanel>\r\n                );\r\n              })}\r\n            </SwipeableViews>\r\n          </main>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <CssBaseline />\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <MyAppBar\r\n                user={props.user}\r\n                setUser={props.setUser}\r\n                open={open}\r\n                setOpen={setOpen}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={5}>\r\n              <Container component=\"main\" maxWidth=\"xs\">\r\n                <div className={classes.paper}>\r\n                  {/* <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar> */}\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"id\"\r\n                      label=\"學號\"\r\n                      name=\"id\"\r\n                      autoComplete=\"id\"\r\n                      autoFocus\r\n                      onInput={(e) => setId(e.target.value)}\r\n                    />\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      error={!correct}\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"密碼\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onInput={(e) => setPassword(e.target.value)}\r\n                      // value={password}\r\n                      helperText={correct ? \"\" : \"Incorrect Id or password\"}\r\n                      onClick={() => setCorrect(true)}\r\n                    />\r\n                    {/* <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Remember me\"\r\n              /> */}\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={handleSignIn}\r\n                    >\r\n                      Sign In\r\n                    </Button>\r\n                    {/* <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid> */}\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Grid>\r\n            <Grid item xs={12} sm={7} className={classes.paper}>\r\n              <Container component=\"main\" maxWidth=\"xs\">\r\n                <div>\r\n                  <Typography>text</Typography>\r\n                  <TextareaAutosize\r\n                    rowsMax={8}\r\n                    aria-label=\"maximum height\"\r\n                    placeholder=\"Maximum 4 rows\"\r\n                    defaultValue=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt\r\n                ut labore et dolore magna aliqua.\"\r\n                  />\r\n                </div>\r\n              </Container>\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","/** @format */\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Main from \"./containers/Main\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport CommentPage from \"./containers/CommentPage\";\r\nimport MyCoursePage from \"./containers/MyCoursePage\";\r\n// Main\r\nconst courseDB = [\r\n  {\r\n    id: 0,\r\n    courseNum: \"ESOE2012\",\r\n    department: \"工科海洋系\",\r\n    courseName: \"資料結構\",\r\n    teacher: \"張恆華\",\r\n    credit: \"3.0\",\r\n    time: \"五2,3,4(工科204)\",\r\n    people: 51,\r\n    remark: \"光機電資訊領域必修。\",\r\n    add: \"加入\",\r\n    more: \"a link\",\r\n    day1: false,\r\n    day2: false,\r\n    day3: false,\r\n    day4: false,\r\n    day5: true,\r\n    day6: false,\r\n    time1: \"\",\r\n    time2: \"\",\r\n    time3: \"\",\r\n    time4: \"\",\r\n    time5: \"2,3,4\",\r\n    time6: \"\",\r\n  },\r\n  {\r\n    id: 1,\r\n    courseNum: \"CSIE2210\",\r\n    department: \"資工系\",\r\n    courseName: \"系統程式設計\",\r\n    teacher: \"鄭卜壬\",\r\n    credit: \"3.0\",\r\n    time: \"三2,3,4(資103)\",\r\n    people: 160,\r\n    remark: \"限本系所學生(含輔系、雙修生) 且 限學士班二年級以上\",\r\n    add: \"加入\",\r\n    more: \"a link\",\r\n    day1: false,\r\n    day2: false,\r\n    day3: true,\r\n    day4: false,\r\n    day5: false,\r\n    day6: false,\r\n    time1: \"\",\r\n    time2: \"\",\r\n    time3: \"2,3,4\",\r\n    time4: \"\",\r\n    time5: \"\",\r\n    time6: \"\",\r\n  },\r\n  {\r\n    id: 2,\r\n    courseNum: \"PE2080\",\r\n    department: \"\",\r\n    courseName: \"排球初級\",\r\n    teacher: \"胡林煥\",\r\n    credit: \"1.0\",\r\n    time: \"二8,9(排球場)\",\r\n    people: 42,\r\n    remark: \"專項運動學群,本校修課人數上限：42人\",\r\n    add: \"加入\",\r\n    more: \"a link\",\r\n    day1: true,\r\n    day2: false,\r\n    day3: false,\r\n    day4: false,\r\n    day5: false,\r\n    day6: false,\r\n    time1: \"1,2\",\r\n    time2: \"\",\r\n    time3: \"\",\r\n    time4: \"\",\r\n    time5: \"\",\r\n    time6: \"\",\r\n  },\r\n  {\r\n    id: 3,\r\n    courseNum: \"Chem1009\",\r\n    department: \"物治系\",\r\n    courseName: \"普通化學丙\",\r\n    teacher: \"陳浩銘\",\r\n    credit: \"3.0\",\r\n    time: \"三3,4(博雅201)五3,4(博雅201)\",\r\n    people: 160,\r\n    remark:\r\n      \"本課程中文授課,使用英文教科書。請依指定修習院系班次修習。詳閱化學系選課須知。初選期間不開放通識A7*課加選。 參閱分班編組課程\",\r\n    add: \"加入\",\r\n    more: \"a link\",\r\n    day1: false,\r\n    day2: false,\r\n    day3: true,\r\n    day4: false,\r\n    day5: true,\r\n    day6: false,\r\n    time1: \"\",\r\n    time2: \"\",\r\n    time3: \"3,4\",\r\n    time4: \"\",\r\n    time5: \"3,4\",\r\n    time6: \"\",\r\n  },\r\n];\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(false); //user info\r\n  // const [courses, setCourses] = useState([]); //courses result\r\n  // const [timeFilter, setTimeFilter] = useState(times); //time filter\r\n  // const [tags, setTags] = useState([]); //tags filter\r\n  // const [keyword, setKeyword] = useState(\"\"); //keyword filter\r\n  // const [peopleChosing, setPeopleChosing] = useState(false); //初選人數\r\n  // const [hotRate, setHotRate] = useState(false); //評論\r\n  // const [conditions, setConditions] = useState([\"\", \"\", \"\"]);\r\n\r\n  // MyCoursePage\r\n  const [myCourse, setMyCourse] = useState([]);\r\n\r\n  // useEffect(async ()=>{\r\n  //   let myOldCourse = await\r\n  // })\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <div className=\"App\">\r\n            <Main\r\n              // courses={courses}\r\n              // tags={tags}\r\n              // chooseTag={chooseTag}\r\n              user={user}\r\n              setUser={setUser}\r\n              setMyCourse={setMyCourse}\r\n              // setKeyword={setKeyword}\r\n              // keyword={keyword}\r\n              // timeFilter={timeFilter}\r\n              // chooseTag={chooseTag}\r\n              // tags={tags}\r\n              // setTimeFilter={setTimeFilter}\r\n              // setPeopleChosing={setPeopleChosing}\r\n              // setHotRate={setHotRate}\r\n              // setConditions={setConditions}\r\n              // conditions={conditions}\r\n              myCourse={myCourse}\r\n              setMyCourse={setMyCourse}\r\n            />\r\n          </div>\r\n        </Route>\r\n        <Route path=\"/comments\">\r\n          <CommentPage />\r\n        </Route>\r\n        <Route path=\"/comments/:id\">\r\n          <CommentPage />\r\n        </Route>\r\n        <Route path=\"/mycourses\">\r\n          <MyCoursePage myCourse={myCourse} setMyCourse={setMyCourse} />\r\n        </Route>\r\n        <Redirect from=\"/Home\" to=\"/\" />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { ApolloProvider } from \"@apollo/client\";\r\nimport { split } from \"@apollo/client\"; //\"apollo-link\";\r\nimport { HttpLink } from \"@apollo/client\"; //\"apollo-link-http\";\r\nimport { WebSocketLink } from \"@apollo/client/link/ws\"; //\"apollo-link-ws\";\r\nimport { getMainDefinition } from \"@apollo/client/utilities\"; //\"apollo-utilities\";\r\nimport { ApolloClient, InMemoryCache } from \"@apollo/client/core\"; //\"apollo-boost\";\r\n\r\n// const httpLink = new HttpLink({\r\n//   uri: \"http://localhost:4000/\",\r\n// });\r\n\r\n// // Create a WebSocket link:\r\n// const wsLink = new WebSocketLink({\r\n//   uri: `ws://localhost:4000/`,\r\n//   options: { reconnect: true },\r\n// });\r\n\r\n// const link = split(\r\n//   // split based on operation type\r\n//   ({ query }) => {\r\n//     const definition = getMainDefinition(query);\r\n//     return (\r\n//       definition.kind === \"OperationDefinition\" &&\r\n//       definition.operation === \"subscription\"\r\n//     );\r\n//   },\r\n//   wsLink,\r\n//   httpLink\r\n// );\r\n\r\n// const client = new ApolloClient({\r\n//   link,\r\n//   cache: new InMemoryCache().restore({}),\r\n// });\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}